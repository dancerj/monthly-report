%; whizzy chapter
% -initex iniptex -latex platex -format platex -bibtex jbibtex -fmt fmt
% 以上 whizzytex を使用する場合の設定。

%     Tokyo Debian Meeting resources
%     Copyright (C) 2011 Junichi Uekawa

%     This program is free software; you can redistribute it and/or modify
%     it under the terms of the GNU General Public License as published by
%     the Free Software Foundation; either version 2 of the License, or
%     (at your option) any later version.

%     This program is distributed in the hope that it will be useful,
%     but WITHOUT ANY WARRANTY; without even the implied warranty of
%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%     GNU General Public License for more details.

%     You should have received a copy of the GNU General Public License
%     along with this program; if not, write to the Free Software
%     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA

%  preview (shell-command (concat "evince " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
% 画像ファイルを処理するためにはebbを利用してboundingboxを作成。
%(shell-command "cd image201101; ebb *.png")

%%ここからヘッダ開始。

\documentclass[mingoth,a4paper]{jsarticle}
\usepackage{monthlyreport}
\usepackage{wrapfig}
\usepackage{supertabular}

% 日付を定義する、毎月変わります。
\newcommand{\debmtgyear}{2011}
\newcommand{\debmtgmonth}{1}
\newcommand{\debmtgdate}{15}
% (+ (* (- 2010 2005) 12) 10) started from zero
\newcommand{\debmtgnumber}{72}

\begin{document}

\begin{titlepage}
\thispagestyle{empty}
% タイトルページ:編集必要な部分は最初のマクロに飛ばすこと

\vspace*{-2cm}
第\debmtgnumber{}回 東京エリア Debian 勉強会資料\\
\hspace*{-2cm}
\includegraphics[width=210mm]{image201003/debsen.eps}\\
\hfill{}\debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日

% ここはアップデートすること
\rotatebox{10}{\fontsize{32}{32} {\gt 特集1: キネクト}}

\rotatebox{10}{\fontsize{32}{32} {\gt 特集2: アンケートシステム}}

\vspace*{-2cm}
\hfill{}\includegraphics[height=6cm]{image200502/openlogo-nd.eps}
\end{titlepage}

\dancersection{Introduction}{上川 純一}

\begin{multicols}{2}
 

 今月のDebian勉強会へようこそ。これからDebianの世界にあしを踏み入れると
 いう方も、すでにどっぷりとつかっているという方も、月に一回Debianについ
 て語りませんか？

 Debian勉強会の目的は下記です。

 \begin{itemize}
 \item \underline{Debian Developer} (開発者)の育成。
 \item 日本語での「\underline{開発に関する情報}」を整理してまとめ、アップデートする。
 \item \underline{場}の提供。
 \begin{itemize}
  \item 普段ばらばらな場所にいる人々が face-to-face で出会える場を提供
	する。
  \item Debian のためになることを語る場を提供する。
  \item Debianについて語る場を提供する。
 \end{itemize}
 \end{itemize}		

 Debianの勉強会ということで究極的には参加者全員がDebian Packageをがりがり
 と作るスーパーハッカーになった姿を妄想しています。情報の共有・活用を通し
 て Debianの今後の能動的な展開への土台として、「場」としての空間を提供す
 るのが目的です。

\end{multicols}

\newpage

\begin{minipage}[b]{0.2\hsize}
 \definecolor{titleback}{gray}{0.9}
 \colorbox{titleback}{\rotatebox{90}{\fontsize{80}{80} {\gt デビアン勉強会} }}
\end{minipage}
\begin{minipage}[b]{0.8\hsize}
\hrule
\vspace{2mm}
\hrule
\begin{multicols}{2}
\tableofcontents
\end{multicols}
\vspace{2mm}
\hrule
\end{minipage}

\dancersection{事前課題}{上川 純一}

今回の事前課題は以下です:
\begin{enumerate}
 \item 2011年の勉強会でなしとげたいことを宣言してください 
 \item 2015年のDebianがどうなっているか大胆に妄想してください。
\end{enumerate}
この課題に対して提出いただいた内容は以下です。
\begin{multicols}{2}
{\small
 \input{image201101/prework.tex}
}
\end{multicols}

\dancersection{最近のDebian関連のミーティング報告}{上川純一}
\subsection{東京エリアDebian勉強会71回目報告}

% (query-replace-regexp "<.*?>" "")
% (query-replace-regexp "^[	 ]\+" "")

東京エリアDebian勉強会。
2010年12月の勉強会が荻窪にて開催されました。
参加者は、松鵜さん、前田さん、
山田(泰)さん、山本浩之さん、yyuuさん、野島さん、
やまねさん、岩松さん、あらきやすひろさん、
野首さん、本庄さん、吉田@板橋さん、上川の14人でした。

2010年を振り返り、2011年にむけてやりたいことを提案しました。2010年12月分
のプレゼン資料PDF にまとめてありますのであとでご覧ください。

本庄さんがlibsaneについて紹介しました。感想として、Debianでlibsaneのコー
ド書くの、簡単じゃん!  簡単なりにいろいろとハマりどころがあったようで、プ
レゼンテーションの軽妙な中身とともに楽しませていただきました。

山田さんがKinectのハック進捗について簡単に紹介しました。来月までにはおもしろいデモができるそうです。

山田さんがCACertの認証について必要なことについて紹介しました。CACertでの
Assurance(認証)を行うにはAssurerにより必要な内容が多数あるようで、大変そ
うでした。2011年1月は実際に認証をしてみようということになりました。

Debian勉強会アンケートシステムの稼働開始と案内について。まぁ当日回答いた
だいた内容についてはシステムがまだまともにう動いていなかったようです先月
回答全然もらえなかったのでまともにデバッグできてなかったよう。これは鋭意
改善中。


\dancersection{Debian Trivia Quiz}{上川 純一}

ところで、みなさん Debian 関連の話題においついていますか？Debian関連の話
題はメーリングリストをよんでいると追跡できます。ただよんでいるだけではは
りあいがないので、理解度のテストをします。特に一人だけでは意味がわからな
いところもあるかも知れません。みんなで一緒に読んでみましょう。

今回の出題範囲は\url{debian-devel-announce@lists.deban.org} や \url{debian-devel@lists.deban.org}に投稿された
内容とDebian Project Newsからです。

\begin{multicols}{2}
 \input{image201101/quiz.tex}
\end{multicols}

%-------------------------------------------------------------------------------
\dancersection{2011年の勉強会企画会議}{上川 純一}
%-------------------------------------------------------------------------------
\index{debianjp@Debian JP} 
\index{とうきょうえりあ@東京エリアDebian勉強会}
\index{2011ねん@2011年}

今回の事前課題で、どういうことがやりたいのかということを出してもらいまし
た。Debian勉強会はDebianにおいての上昇志向の人たちが切磋琢磨する場です。
参加していろいろな情報を交換するだけでなく、発表者となって勉強したことを
発表する場です。発表するというきっかけがあることで情報整理につながること
を期待しています。

\subsection{やりたいネタ}


\subsection{2011年のDebian勉強会}


%-------------------------------------------------------------------------------
\dancersection{Debian勉強会予約システムにアンケート追加}{上川 純一}
%-------------------------------------------------------------------------------
\index{あんけーと@アンケート}
\index{Debianべんきょうかいよやくしすてむ@Debian勉強会予約システム}

\subsection{アンケートシステムの目的}

Debian勉強会は各自のブログに記述するということが当初事後課題として機能し
ていました。勉強会を開催したあと、参加者は勉強会で得られた内容を整理すること
ができて、開催者は内容がどのようにうけとられたのかをある程度推し量ること
ができました。

しかし、勉強会の統計データから、勉強会の感想がブログに記述される量は減っ
てきています。これは、最近はコミュニケーションの道具としてのtwitterの流行
などにともない、ブログに記述するという習慣が減ってきているからなのかと思
われます。

時代の変遷によりブログエントリーがなくなるとその機能を代替するものは何で
しょう。

ブログの機能としては、フィードバックのシステムと、あとその他のユーザに勉
強会の記録を伝えるという面がありました。記録の面はtwitterのログをまとめ
るtogetterをなどを使えばよいだろうということが2010年12月の勉強会で提案さ
れました。
あとはフィードバックシステムです。

勉強会へのフィードバックシステムとしてアンケートシステムを提案します。


\subsection{アンケートシステムの利用方法}


\includegraphics[width=0.5\hsize]{image201101/enquete-edit.png}
\includegraphics[width=0.5\hsize]{image201101/enquete-respond.png}

\subsubsection{管理者の事前準備}

イベントの管理者はイベントの一覧画面からアンケート作成画面に遷移すること
ができます。そこでは、ユーザに表示するための全体的なメッセージと、各項目
を改行区切りで記述する欄があります。

ユーザにメールを送信すると、ユーザにはリンクの書いてあるメールが届きます。
そのリンクをクリックすると、ユーザはアンケートに回答することができます。

\subsubsection{ユーザ}

ユーザは各項目については0から5までの値で回答することができます。
そして、全体について自由記述の項目があります。

二つ目的があります。勉強会の企画の中で、どの部分が評価されているのかとい
うのを出していきたいのと、任意なメッセージを入力できるようにすることで会
に対してやりたいことなどの要望が伝えられるようにすることです。

\begin{itemize}
 \item[0.] N/A \footnote{ユーザにとって回答に値しない、例えば自分がプレゼンテーション
       していた場合や、遅刻・早退して自分がその場にいなかった、など、ア
       ンケートに回答できない理由はいろいろありえます。}
 \item[1.] すごくよくない
 \item[2.] よくない
 \item[3.] どちらでもない
 \item[4.] よかった
 \item[5.] 素晴らしい、他人にも薦めたい
\end{itemize}

\subsubsection{管理者が事後に確認}

管理者は、アンケートの[アンケート集計結果]リンクをたどることにより、イベ
ント単位のデータのCSVダンプを見ることができます。

集計はしていません。ここから先はCSVを処理してください。

\subsection{アンケートシステムの設計と実装}
\index{Google App Engine SDK}

アンケートシステムの設計と実装について見てみましょう。
アンケートはDebian勉強会予約システムの一機能として実装しています。

\subsubsection{データストア}

ここの設計で悩んだ点は、EventEnqueteResponseをAttendanceと一緒にするべき
かどうかです。Datastore がjoinをサポートしていないためです。今回は分離し
て必要なときに手動でjoin\footnote{同じキーで二回別のテーブルをqueryするこ
とになるので必要なときには効率が悪いけど、あまり必要にならないと予想した
設計}するアプローチにしてみました。

\begin{verbatim}
class EventEnquete(db.Model):
    """Enquete questions for an event."""
    eventid = db.StringProperty()
    overall_message = db.TextProperty()
    question_text = db.StringListProperty()
    timestamp = db.DateTimeProperty(auto_now_add=True)

class EventEnqueteResponse(db.Model):
    """Enquete respnose for an event by one person."""
    eventid = db.StringProperty()
    # responses for 1-5 questions. 0 is N/A
    question_response = db.ListProperty(long)
    overall_comment = db.TextProperty() # a general comment from user.
    timestamp = db.DateTimeProperty(auto_now_add=True)
    user = db.UserProperty()
\end{verbatim}

\subsubsection{ユーザインタフェース}

ユーザインタフェース部分は enquete.py に記述しています。メールやHTMLファ
イルの表示部分には、Django のテンプレートを利用しています。

\begin{itemize}
 \item EnqueteAdminEdit.html 管理者用のアンケート編集画面
 \item EnqueteAdminSendMail.txt 管理者が参加者にアンケートを依頼するメー
       ル送信するときのメールのテンプレート
 \item EnqueteRespond.html 参加者がアンケートを返答する際に表示される
       HTML。
 \item EnqueteRespondDone.txt 参加者がアンケートを回答したときに送信され
       る確認メール。
\end{itemize}

\subsubsection{バックグラウンドタスク}

ウェブインタフェースからアンケートの送信リクエストがあった場合、
クリックした瞬間にメールの送信処理が発生するわけではなく、
メールの送信処理にtaskqueueを利用しています。

送信元は noreply@debianmeeting.appspotmail.com を使っています。多分ログイ
ンユーザの権限でメールを出すということができないのだと想定してこうなって
います\footnote{未確認}。

\subsection{先月のアンケート集計結果}
\index{R}

それでは、例として2010年12月のアンケート結果をみてみましょう。
0がN/Aなので点数としてそのまま処理するのはおかしいのですが、Rで処理した
結果を見てみましょう。
まだこの時点ではデータが少ないので、今回の
なかでどのセッションが人気だったかが分かるだけです。

事前準備として、Rをインストールします。

\begin{commandline}
# apt-get install r-base
\end{commandline}
\index{r-base}

R を起動してまず基本的な統計量を調べます。

\begin{commandline}
$ R
[中略]
> enquete <- read.csv('201012enquete.csv')
> summary(enquete)
  事前課題紹介   X2010年のDebianを振り返って.2011年を企画する
 Min.   :0.000   Min.   :0.000                               
 1st Qu.:3.000   1st Qu.:3.000                               
 Median :4.000   Median :4.000                               
 Mean   :3.333   Mean   :3.556                               
 3rd Qu.:4.000   3rd Qu.:5.000                               
 Max.   :4.000   Max.   :5.000                               
 CACertの準備に何が必要か 俺のlibsaneが火をふくぜ Debian.Miniconf.企画
 Min.   :4.000            Min.   :0.000           Min.   :1.000       
 1st Qu.:4.000            1st Qu.:4.000           1st Qu.:2.000       
 Median :5.000            Median :5.000           Median :3.000       
 Mean   :4.556            Mean   :3.667           Mean   :2.778       
 3rd Qu.:5.000            3rd Qu.:5.000           3rd Qu.:4.000       
 Max.   :5.000            Max.   :5.000           Max.   :4.000       
> quantile(enquete$俺の)
  0%  25%  50%  75% 100% 
  0    4    5    5    5 
> quantile(enquete$Debian)
  0%  25%  50%  75% 100% 
   1    2    3    4    4 
\end{commandline}

今回特に評価の高かったセッションはsaneネタと、CACertネタで、評価の低かっ
たセッションはDebian Miniconf企画ネタでした。今回のアンケートの結果を受け
ると、Debian miniconfについてはプレゼンテーションの方法を考え直した方がよ
いだろうと思います。事前課題資料が無かった、プレゼンテーションしようとし
たマシンがプロジェクタにうまくつながらなかった、そもそも話の内容もあま
り練られていなかったということを考えるとそれがそのままアンケートの統計値
にも反映したと考えられます。

一つ見方を変えて相関を調べてみましょう。事前課題紹介と2010年のDebianを振
り返る企画、libsane は相関係数0.911, 0.75 などで評価の傾向が似ていました。
一方、CACertの評価はlibsaneとは違う評価の傾向でした。Debian勉強会のいつも
のネタを評価している人はlibsaneを評価していて、それとはちょっと違う軸で評
価している人がCACertについての発表を評価したのかと想像しています。

\begin{commandline}
> cor(enquete$CAC, enquete$俺の)
[1] 0.186339
> cor(enquete$俺の, enquete$事前)
[1] 0.7572402
> cor(enquete$CAC, enquete$事前)
[1] -0.2988072

\end{commandline}

%-------------------------------------------------------------------------------
\dancersection{KinectをDebianで使ってみた}{山田 泰資}
%-------------------------------------------------------------------------------

%-------------------------------------------------------------------------------
\dancersection{CACert Assurance}{山田 泰資}
%-------------------------------------------------------------------------------
\index{cacert}

CACert の Assurance を実施します。
すでに紙に印刷している人対象。

\printindex

\cleartooddpage

\vspace*{15cm}
\hrule
\vspace{2mm}
\includegraphics[width=2cm]{image200502/openlogo-nd.eps}
\noindent \Large \bf Debian 勉強会資料\\
\noindent \normalfont \debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日 \hspace{5mm}  初版第1刷発行\\
\noindent \normalfont 東京エリア Debian 勉強会 （編集・印刷・発行）\\
\hrule

\end{document}
