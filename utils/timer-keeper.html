<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Kitchen Timer</title>
    <script type="text/javascript">
// the number of minutes to wait for
var num_minutes = 5

// constant value; number of msecs in seconds and minutes.
var kSecMsecs = 1000
var kMinuteMsecs = 1000 * 60

// The timer interval, make it fire every second.
var timer_interval = 1 * kSecMsecs; 

// get time in msecs.
var opened_time = (new Date()).getTime()

// get time 5 minutes later
var end_time = opened_time + num_minutes * kMinuteMsecs

var my_onTimer = function () {
      var current_time = (new Date()).getTime()
      
      // use 90%, not 100% of the width for display
      var total_width = 90.0
      var spent_per_total = (current_time - opened_time) * total_width / (end_time - opened_time)

      if (current_time > end_time) {
        // Time is up, do something, play music etc. ?
      } else {
        setTimeout(my_onTimer, timer_interval);
      }
      document.getElementById("timedone").style.width = 
        String(spent_per_total) + "%";
      document.getElementById("timeremain").style.width = 
        String(total_width - spent_per_total) + "%";
}

window.onload = function() {
      my_onTimer()
}
    </script>
  </head>
  
  <body>
    <img id="timedone" width="40%" height="30%" src="img/red.png">
    <img id="timeremain" width="40%" height="30%" src="img/bluebackground.png">

    <hr>
    <address><a href="mailto:dancer@debian.org">Junichi Uekawa</a></address>
<!-- Created: Fri May  1 12:12:20 JST 2009 -->
<!-- hhmts start -->
Last modified: Fri May  1 16:05:19 JST 2009
<!-- hhmts end -->
  </body>
</html>
