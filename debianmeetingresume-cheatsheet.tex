%; whizzy chapter
% -initex iniptex -latex platex -format platex -bibtex jbibtex -fmt fmt
% 以上 whizzytex を使用する場合の設定。

%     Tokyo Debian Meeting resources
%     Copyright (C) 2011 Junichi Uekawa
%     Copyright (C) 2011 Nobuhiro Iwamatsu

%     This program is free software; you can redistribute it and/or modify
%     it under the terms of the GNU General Public License as published by
%     the Free Software Foundation; either version 2 of the License, or
%     (at your option) any later version.

%     This program is distributed in the hope that it will be useful,
%     but WITHOUT ANY WARRANTY; without even the implied warranty of
%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%     GNU General Public License for more details.

%     You should have received a copy of the GNU General Public License
%     along with this program; if not, write to the Free Software
%     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA

%  preview (shell-command (concat "evince " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
% 画像ファイルを処理するためにはebbを利用してboundingboxを作成。
%(shell-command "cd image201109; ebb *.png")

%%ここからヘッダ開始。

\documentclass[b5paper,10pt,fleqn]{jsarticle}
\usepackage{multicol}
\pagestyle{empty}

\setlength{\oddsidemargin}{-20mm}
\setlength{\topmargin}{-30mm}
\setlength{\textwidth}{200mm}

\newcommand{\commanddescription}[2]{%
\textgt{#1}
\\\hspace{10mm}#2\\}

\begin{document}

% Header
{\Large Debian dpkg/APT Cheat Sheet}
%\begin{flushright}Tokyo Area Debian Meeting\end{flushright}

\hrule height 0.5mm

\begin{multicols}{2}

\begin{center}
{\Large dpkg}
\end{center}

\commanddescription
{パッケージをインストールする}
{dpkg -i パッケージファイル}

\commanddescription
{パッケージをアンインストールする}
{dpkg -r パッケージファイル}

\commanddescription
{インストールされているパッケージ一覧を表示する}
{dpkg -l}

\commanddescription
{インストールされているパッケージ一覧を表示する}
{dpkg -L}

\commanddescription
{インストールされているパッケージ一覧を表示する}
{dpkg -S}

{インストールされているパッケージ一覧データをバックアップする}
{dpkg --get-selections}

\commanddescription
{パッケージを更新しないように固定する}
{echo パッケージ名 hold | dpkg --set-selections}

\commanddescription
{パッケージのバージョン固定を解除する}
{echo パッケージ名 install | dpkg --set-selections}

\begin{center}
{\Large APT}
\end{center}

\commanddescription
{リポジトリから最新のパッケージ情報を取得する}
{apt-get update}

\commanddescription
{システムをアップデートする}
{apt-get upgrade}

\commanddescription
{システムをアップデートする（最重要パッケージを優先）}
{apt-get dist-upgrade}

\commanddescription
{パッケージをインストールする/パッケージをアップデートする}
{apt-get install パッケージ名}

\commanddescription
{設定ファイルを残してパッケージを削除する}
{apt-get remove パッケージ名}

\commanddescription
{設定ファイルと共にパッケージを削除する}
{apt-get purge パッケージ名}

\commanddescription
{ソースパッケージを取得する}
{apt-get source ソースパッケージ名/バイナリパッケージ名}

\commanddescription
{パッケージのビルドに依存しているパッケージをインストールする}
{apt-get build-dep パッケージ名}

\commanddescription
{ローカルパッケージリポジトリを掃除する}
{apt-get clean}

\commanddescription
{ローカルパッケージリポジトリを掃除し、不要なパッケージファイルも削除する}
{apt-get autoclean}

\commanddescription
{他のパッケージに全く依存していないパッケージを削除する}
{apt-get autoremove}

\commanddescription
{パッケージのchangelogをダウンロードし表示する}
{apt-cache show パッケージ名}

\commanddescription
{パッケージのchangelogをダウンロードし表示する}
{apt-cache search パッケージ名}

\commanddescription
{パッケージのchangelogをダウンロードし表示する}
{apt-cache showsrc パッケージ名}

\commanddescription
{パッケージのchangelogをダウンロードし表示する}
{apt-mark hold パッケージ名}

\commanddescription
{パッケージのchangelogをダウンロードし表示する}
{apt-mark unhold パッケージ名}


\commanddescription
{パッケージのchangelogをダウンロードし表示する}
{apt-mark showhold パッケージ名}


\end{multicols}

%Footer
\hrule height 0.5mm
LICENCE: GNU GPL Version 2 / Copyright 2011 Debian JP Project

\end{document}
