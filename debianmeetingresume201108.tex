%; whizzy chapter
% -initex iniptex -latex platex -format platex -bibtex jbibtex -fmt fmt
% 以上 whizzytex を使用する場合の設定。

%     Tokyo Debian Meeting resources
%     Copyright (C) 2011 Junichi Uekawa
%     Copyright (C) 2011 Nobuhiro Iwamatsu

%     This program is free software; you can redistribute it and/or modify
%     it under the terms of the GNU General Public License as published by
%     the Free Software Foundation; either version 2 of the License, or
%     (at your option) any later version.

%     This program is distributed in the hope that it will be useful,
%     but WITHOUT ANY WARRANTY; without even the implied warranty of
%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%     GNU General Public License for more details.

%     You should have received a copy of the GNU General Public License
%     along with this program; if not, write to the Free Software
%     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA

%  preview (shell-command (concat "evince " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
% 画像ファイルを処理するためにはebbを利用してboundingboxを作成。
%(shell-command "cd image201101; ebb *.png")

%%ここからヘッダ開始。

\documentclass[mingoth,a4paper]{jsarticle}
\usepackage{monthlyreport}

% 日付を定義する、毎月変わります。
\newcommand{\debmtgyear}{2011}
\newcommand{\debmtgmonth}{8}
\newcommand{\debmtgdate}{20}
% (+ (* (- 2011 2005) 12) 8 -1) started from zero
\newcommand{\debmtgnumber}{79}

\begin{document}

\begin{titlepage}
\thispagestyle{empty}
% タイトルページ:編集必要な部分は最初のマクロに飛ばすこと

\vspace*{-2cm}
第\debmtgnumber{}回 東京エリア Debian 勉強会資料\\
\hspace*{-2cm}
\includegraphics[width=210mm]{image201003/debsen.eps}\\
\hfill{}\debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日

% ここはアップデートすること
\rotatebox{10}{\fontsize{32}{32} {\gt 特集1: XXXX}}

\rotatebox{10}{\fontsize{32}{32} {\gt 特集2: YYYY}}

\vspace*{-2cm}
\hfill{}\includegraphics[height=6cm]{image200502/openlogo-nd.eps}
\end{titlepage}

\dancersection{Introduction}{上川 純一}

\begin{multicols}{2}
 

 今月のDebian勉強会へようこそ。これからDebianの世界にあしを踏み入れると
 いう方も、すでにどっぷりとつかっているという方も、月に一回Debianについ
 て語りませんか？

 Debian勉強会の目的は下記です。

 \begin{itemize}
 \item \underline{Debian Developer} (開発者)の育成。
 \item 日本語での「\underline{開発に関する情報}」を整理してまとめ、アップデートする。
 \item \underline{場}の提供。
 \begin{itemize}
  \item 普段ばらばらな場所にいる人々が face-to-face で出会える場を提供
	する。
  \item Debian のためになることを語る場を提供する。
  \item Debianについて語る場を提供する。
 \end{itemize}
 \end{itemize}		

 Debianの勉強会ということで究極的には参加者全員がDebian Packageをがりがり
 と作るスーパーハッカーになった姿を妄想しています。情報の共有・活用を通し
 て Debianの今後の能動的な展開への土台として、「場」としての空間を提供す
 るのが目的です。

\end{multicols}

\newpage

\begin{minipage}[b]{0.2\hsize}
 \definecolor{titleback}{gray}{0.9}
 \colorbox{titleback}{\rotatebox{90}{\fontsize{80}{80} {\gt デビアン勉強会} }}
\end{minipage}
\begin{minipage}[b]{0.8\hsize}
\hrule
\vspace{2mm}
\hrule
\begin{multicols}{2}
\tableofcontents
\end{multicols}
\vspace{2mm}
\hrule
\end{minipage}

\dancersection{事前課題}{岩松 信洋}

今回の事前課題は以下です:

Debianの各種ツール（aptとかdpkgとか固有のもの）について、
\begin{enumerate}
\item このツールの解説が欲しい！
\item これの状況はどうなってる？
\item こんなツールありませんか？（あったらいいのに）
\end{enumerate}
と思っていることがあれば、それをできるだけ多く挙げて下さい。

この課題に対して提出いただいた内容は以下です。
\begin{multicols}{2}
{\small
\input{image201108/prework.tex}
}
\end{multicols}

\dancersection{最近のDebian関連のミーティング報告}{岩松 信洋}
\subsection{東京エリアDebian勉強会77回目報告}

これは、6月。

\subsection{東京エリアDebian勉強会78回目報告}

Debconf

% (query-replace-regexp "<.*?>" "")
% (query-replace-regexp "^[	 ]\+" "")



\dancersection{Debian Trivia Quiz}{岩松 信洋}

ところで、みなさん Debian 関連の話題においついていますか？Debian関連の話
題はメーリングリストをよんでいると追跡できます。ただよんでいるだけではは
りあいがないので、理解度のテストをします。特に一人だけでは意味がわからな
いところもあるかも知れません。みんなで一緒に読んでみましょう。

今回の出題範囲は\url{debian-devel-announce@lists.deban.org} や \url{debian-devel@lists.deban.org}に投稿された
内容とDebian Project Newsからです。

\begin{multicols}{2}
% \input{image201107/quiz.tex}
\end{multicols}

%-------------------------------------------------------------------------------
\dancersection{ファイル同一性の確認のためのハッシュについて勉強する}{hogehoge}
%-------------------------------------------------------------------------------

\subsection{チェックサムの歴史}
\subsubsection{sum -- System V 互換チェックサム}
\subsubsection{cksum -- CRCチェックサム}
\subsection{ファイルの内容を変更してチェックサムの挙動を確認する}

ここれ基本的なチェックサムの挙動を確認する。
ファイルの改変があったことを検出する。

\subsection{md5 の使い方}
\subsubsection{md5 の概要}
\subsubsection{md5sum コマンド}
\subsubsection{md5の攻撃耐性}

\subsection{sha1の使い方}
\subsubsection{sha1 の概要}
\subsubsection{sha1sum コマンド}
\subsubsection{sha1の攻撃耐性}
\subsection{sha256の使い方}
\subsubsection{sha256の概要}
\subsubsection{sha256sum コマンド}
\subsubsection{sha256の攻撃耐性}

%-------------------------------------------------------------------------------
\dancersection{git-buildpackage, pristine-tar, dpkg-source v3}{hogehoge}
%-------------------------------------------------------------------------------
\index{hoge}

\subsection{概要}

今回はGitリポジトリでパッケージ管理をして、
pristine-tarでorig.tar.gzを管理し、git-buildpackageでパッケージをビルド
し、dpkg-source v3 を使ったパッケージの作成の流れについて紹介します。

%-------------------------------------------------------------------------------
\dancersection{スポンサーアップロード}{岩松 信洋}
%-------------------------------------------------------------------------------
\label{sec:sponsorupload}
\index{sponsor upload}

\subsection{はじめに}
%* Debian Developers
%* Debian Maintainers (DM)
% Sponsored maintainers

Debian にパッケージをアップロードする場合、誰でもアップロードできるわけではなく
限られた人しかアップロードできません。
アップロードできるのはDebian Developer(以下、DD)とDebian Maintainer（以下、DM）
だけです。また、DM はアップロードする際に制限があります。


%この制限にはパッケージが新しく追加されること、
%
%- 制限を書く

 
DDではない人が、メンテナンスしているパッケージをアップロード
する場合には、DD に頼んでアップロードしてもらう必要があります。
パッケージを代理でアップロードする人をスポンサーといい、アップロードする行為を
スポンサーアップロードといいます。
パッケージメンテナに変わってパッケージをアップロードするので、パッケージに対して
責任が問われる作業です。
なので、アップロードするパッケージの内容や、パッケージメンテナについてある程度知
っておく必要があります。
スポンサーはパッケージのチェック等を行ったりパッケージ内容に対して助言をす
るので、mentor（助言する人）といった方がわかりやすいかもしれません。 
このパッケージチェックの過程は DD や DM
になる場合に優位に働く場合があります。DDやDMになる時には既存のDDに支持者になって
もらう必要があるのですが、この場合スポンサーに支持者担ってもらうように依頼すると、
しっかりした内容の支持内容を提供してくれるはずです。

では、スポンサーがどのようにしてパッケージをスポンサーアップロードするのか
説明します。

\begin{figure}[ht]
 \begin{center}
  \includegraphics[width=0.8\hsize]{image201108/sponsor0.png}
 \end{center}
\label{fig:sponsor0}\caption{パッケージアップロード}
\end{figure}

\subsection{チェックする内容}

スポンサーはパッケージをチェックする前と後にチェックする内容があります。
ここでは私が行っているチェック内容を紹介します。


\subsubsection{パッケージをチェックする前のチェック}

スポンサーをするパッケージメンテナの方に以下の内容を確認しています。

\begin{itemize}
\item Web of Trust に入っているか。
\item DDやDMへの意欲はあるか。
\item Debian 新メンテナーガイド\footnote{\url{http://www.debian.org/doc/manuals/maint-guide/}} を読んだか。
\item DFSG \footnote{\url{http://www.debian.org/social_contract.ja.html}} を読んだか。
\item Debian Policy\footnote{\url{http://www.debian.org/doc/debian-policy/}} を読んだか。
\item Debian Reference \footnote{\url{http://www.debian.org/doc/manuals/developers-reference/}}を読んだ。
\end{itemize}

たまに、誰もスポンサーする人がいないようなのでスポンサーする場合があります。

\subsubsection{パッケージのチェック}
実際のパッケージのチェックは以下になります。

\begin{itemize}

\item ライセンスの確認

ソフトウェアのライセンスがDFSGに合致するライセンスか、
ライセンスが debian/copuright に書かれているか確認します。
この確認には devscripts パッケージに含まれる licensecheck を使うことが多いです。

また、最近ではdebian/copyright のフォーマットには、
DEP5\footnote{http://dep.debian.net/deps/dep5/}に対応しているか確認しています。
仮に不明な場合には上流開発者に問い合わせるようにメンテナにお願いします。

\item orig.tar.gz の確認

オリジナルのtarボールと一緒か、オリジナルのソースコードに
変な改変をしていないかを確認します。

\item 最新のパッケージングのルールに合っているかの確認。

例えば、使っているプログラミング言語向けのパッケージングサポートツールが新しくなっていたり、
パッケージングポリシーが決まっている場合があります。できるだけ新しいパッケージングのルールに
合わせるようにします。

\item debian/control ファイルの確認

依存関係、パッケージの説明、各セクションの確認を行います。

\item debian/rules の確認

シンプルな構成になっているか、ポリシーに違反していないかの確認。

\item pbuilder を使ったパッケージビルドの確認

最新unstable ディストリビューションでパッケージがビルドできるか確認します。
lintian によるチェックや、ビルドに必要なパッケージが依存関係から漏れていないか
確認することができます。
この時に使うツールは pbuilder\footnote{\url{http://packages.qa.debian.org/p/pbuilder.html}}(cowbuilder\footnote{\url{http://packages.qa.debian.org/c/cowdancer.html}})と、
sbuild\footnote{\url{http://packages.qa.debian.org/s/sbuild.html}} です。
手元でビルドしてアップロードする場合には pbuilder を使っています。
スポンサーをしているパッケージは定期的にビルドの確認を行うようにしており、
これには sbuild を使っています。

\item lintianを使ったポリシーとパッケージングミスの確認

パッケージが Debian ポリシー に準拠しているか簡単に確認するには
lintian\footnote{\url{http://packages.qa.debian.org/l/lintian.html}} を使います。
これはDebian ポリシー の他に Debian パッケージのよくある間違いに関してチェックしてくれます。

\item メンテナスクリプト(preinst、postinst、prerm、postrm、コンフィグ)の確認

これらは動くのか。

\item オリジナルのtarボールとの差分の確認

diff.gz の内容を確認します。
作成されたパッチは上流開発者に送ってあるか、パッチはDEP3に対応しているか、確認します。

\item パッケージはインストール、アンインストールの確認

パッケージはできても、インストールできない場合やアンインストールできない場合があります。
またパッケージが動作しない場合もあります。このような問題
がないか確認するために、
piuparts\footnote{\url{http://packages.qa.debian.org/p/piuparts.html}} を使ってインストール、アンインストールのチェックと、実際にインストールしてみて動作するか確認をします。

\end{itemize}


\subsubsection{その他}
その他、スポンサーによっては以下のような理由でスポンサーしてくれない場合があるようです。
注意しましょう。

\begin{itemize}

\item スポンサーをUploaderに入れることを要求される場合がある。

これは、パッケージメンテナの代わりにパッケージをアップロードする場合に有効です。
先に説明したように、パッケージのメンテナンスの責任はスポンサーにもあるのためです。

\item パッケージング用のツールを要求される場合がある。

例えばスポンサーによっては、パッケージにcdbs を使っている場合、debhelper を使うように言われる場合があるようです。

\item \url{http://mentors.debian.net} を使わない場合はスポンサーをしない。

信頼できる以外にアップロードされたソースパッケージは信頼しないというポリシーのようです。

\item 自分のしらないプログラミング言語で書かれたパッケージはスポンサーをしない。

\end{itemize}

また、\url{http://wiki.debian.org/SponsorChecklist}
に実際にスポンサーしている人の方針が纏められています。

\subsection{アップロード}
アップロードには、dput や dupload パッケージを使います。
実装が異なるだけで、基本的な機能は揃っているのでどちらでも使い方は同じです。

\subsection{まとめ}
スポンサーアップロードは大変なので、さっさとDMかDDがになりましょう。

\dancersection{Debian Conference 2011参加報告}{岩松 信洋}
\label{sec:debconfreportsummary}
\index{Debconf2011}
\index{Debconf}

\subsection{Debconfとは}

2011年度の Debconf は 7月23日から7月30日まで、ボスニア・ヘルツェゴビナの
バニャルカで行われました。
日本からは、山根 秀樹、岩松 信洋が参加しました。
% 野島さんは？

\subsubsection{Debconfの歴史・経緯}

Debian Conference \url{http://debconf9.debconf.org/} は Debian 
の開発者たちが一同に介するイベントです。通常顔をあわせることのないメンバー
たちが一同に介し友好を深め、技術的な議論を戦わせます。過去の開催履歴を見
てみると\tbref{tab:debconflist}のようになります。

\begin{table}[H]
\caption{歴代のDebconf参加者推移}
\label{tab:debconflist}
 \begin{center}
 {\footnotesize
 \begin{tabular}{|c|c|c|r|}
 \hline
 年 & 名前 & 場所 & 参加人数 \\
 \hline
 2000 & debconf 0 &フランス ボルドー & \\
 2001 & debconf 1 &フランス ボルドー & \\
 2002 & debconf 2 &カナダ トロント & 90名 \\
 2003 & debconf 3 &ノルウェー オスロ & 140名 \\
 2004 & debconf 4 &ブラジル ポルトアレグレ &  150名 \\
 2005 & debconf 5 &フィンランド ヘルシンキ & 200名 \\
 2006 & debconf 6 &メキシコ オアスタペック & 300名 \\
 2007 & debconf 7 &英国スコットランド エジンバラ & 約400名 \\
 2008 & debconf 8 &アルゼンチン マルデルプラタ & 約200名 \\               
 2009 & debconf 9 &スペイン エクストラマドゥーラ & 約250名 \\
 2010 & debconf 10 &アメリカ ニューヨーク & 約400名 \\
 2011 & debconf 11 & ボスニア・ヘルツェゴビナ バニャルカ & 不明 \\
 \hline
 \end{tabular}
 }
 \end{center}
\end{table}

\subsubsection{Debconf 2011}

2011年度のDebconf会場はボスニア・ヘルツェゴビナ連邦共和国にあるバニャル
カ市のホテルを借りきって行われました。


宿泊は会場にある宿泊施設と、会場から徒歩15分程度に位置する Francisco de Sande に分散していました。

\subsection{スペイン/カセレス}

\subsubsection{行き方}
  空路を使った場合、日本からの直行便はないので、どこかの国を経由してボス
  ニア・ヘルツェゴビナ（バニャルカ）に入ることになります。また、バニャル
  カ行きの飛行機は殆ど無く、スイス経由の数便のみとなるため、近隣まで飛行
  機で行き、あとは電車やバスでバニャルカに入る必要がでてきます。
  岩松はウィーン（オーストリア）経由で隣接する国であるザグレブ（クロアチア）
  まで飛行機で行き、ザグレブからバスでバニャルカまで行きました。
  
  日本からマドリッド（バラハス国際空港）までは直行便がありません。どこかでトランジットが必要になります。
  各メンバはタイ国際空港経由で入国しました。
  距離は約10000km。飛行時間は約16時間かかります（日本からタイまで約5時間、タイからマドリッドまで約16時間）。
  バラハス国際空港からマドリッドの市街に移動し、さらに列車で4時間ほど移動する必要があります。
  列車のチケットは予約する必要があり、座る場所も決まっています。マドリッドにある
  ターミナル駅、アートチャ駅で購入することも可能ですが、日本チームはインターネットでチケットを予約し、
  印刷して持っていきました。

\subsubsection{会場}

\begin{wrapfigure}{r}{11cm}
  \includegraphics[width=5cm]{image200908/debconf9_venue.jpg}
  \includegraphics[width=5cm]{image200908/debconf9-fds.jpg}
\end{wrapfigure}
  会場は、エクストラマドゥーラの施設を借り切って開催されました。
  先に書いたとおり、宿泊施設が併設されており、4割の参加者は併設した宿泊施設から
  参加していました。もう片方の宿泊施設である Francisco de Sande は世界遺産である遺跡の
  中にあり、ゲームに出てきそうな宿でした。
  併設された宿泊施設には発表者やメイン開発者が泊まっており、ここでも格差社会が見え隠れしています。
  debconfの前にやっているdebcampと呼ばれるものがあり、こちらは開発が主体になっています。
  開発メインで行いたい人はdebcampから参加するとよいでしょう。
  \\

\begin{itemize}
  \item Upper Talk Room: 	メイン用。250人ほど入ることができます。\\
	\begin{minipage}{0.4\hsize}
	\includegraphics[width=0.8\hsize]{image200908/debconf9_main.jpg}
	\end{minipage}
  \item Lower Talk Room: サブ会場。50人ほど入ることができます。

  \item BoF Room\\
	BOF 用。30人ほど入ることができます。
        プレゼンテーション設備がないため、皆パソコンを開いてプレゼンテーション資料を見ていました。
	また、空調設備が貧弱なため、蒸し風呂状態でした。

  \item Hacklab 1/2 および 食堂: Hacklab はハック専用の部屋です。\\
	\begin{minipage}{0.4\hsize}
	\includegraphics[width=0.8\hsize]{image200908/debconf9_hacklab.jpg}
	\end{minipage}
	\begin{minipage}{0.4\hsize}
	\includegraphics[width=0.8\hsize]{image200908/debconf9_diningroom.jpg}
	\end{minipage}

\end{itemize} 

\subsection{スケジュール}

23日のDebian Day で Debian Conference は開幕し、30日まで毎日いろいろな予
定が組まれていました。
27日だけはカンファレンス参加者で day-trip を実施しました。

\subsection{メモ}

Debian on google


サーバなどで使っている。デプロイにつかったり。
puppet いいよ、puppet.
OSチームなどにDebian Developer が数名いて、彼らが手伝ってくれる、
25名ぐらいいるらしい。。

\subsection{主となった討論}

\subsubsection{i18n関係}

\subsubsection{組み込み関係}

\subsection{ツール関係}

\subsection{リリース関係の話}

\subsubsection{GPGサイン}

\subsection{Daytrip}

\subsection{Debconf13はどこで開催されるのか}

\subsection{今回のDebconf参加によるハックの成果}
\subsubsection{野島}

\subsubsection{山根}

\subsubsection{岩松}

\subsection{次回のDebconf}
次回のDebconfは１３回目になります。で開催される予定です。
\clearpage

\printindex

\cleartooddpage

\vspace*{15cm}
\hrule
\vspace{2mm}
\includegraphics[width=2cm]{image200502/openlogo-nd.eps}
\noindent \Large \bf Debian 勉強会資料\\
\noindent \normalfont \debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日 \hspace{5mm}  初版第1刷発行\\
\noindent \normalfont 東京エリア Debian 勉強会 （編集・印刷・発行）\\
\hrule

\end{document}
