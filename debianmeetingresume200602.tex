%; whizzy chapter
% -initex iniptex -latex platex -format platex -bibtex jbibtex -fmt fmt
% 以上 whizzytex を使用する場合の設定。

% This document is distributed under the terms of GPL version 2 or
%later.
% Copyright 2006 Junichi Uekawa and others

%   Pdf作成手順
% dvipdfmx debianmeetingresume200602.dvi
%  preview (shell-command (concat "xpdf " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
% 画像ファイルを処理するためにはebbを利用してboundingboxを作成．
%(shell-command "cd image200602; ebb *.png")

%%ここからヘッダ開始。

\documentclass[mingoth,a4paper]{jsarticle}
\usepackage[dvipdfm]{graphicx}
\usepackage{fancybox}
\usepackage{longtable}
\usepackage{ascmac}	% 囲み (screen,itembox)
\usepackage{fancyvrb}   % 囲み Verbatim のために必要
\usepackage[dvipdfm]{hyperref}
\usepackage{url}

%http://www.naney.org/diki/dk/hyperref.html
%日本語EUC系環境の時
\AtBeginDvi{\special{pdf:tounicode EUC-UCS2}}
%シフトJIS系環境の時
%\AtBeginDvi{\special{pdf:tounicode 90ms-RKSJ-UCS2}}

%% spacing の設定をする。外枠を減らす。
\setlength\headheight{0mm}
\setlength\topmargin{-20mm}
\setlength\headsep{0mm}
\setlength\topskip{3mm}
\setlength\maxdepth{4pt}
\setlength\columnsep{6mm}
\setlength\textheight{252mm}
\setlength\topmargin{-5mm}
\setlength\textwidth{170mm}
\setlength\oddsidemargin{-5mm}
\setlength\evensidemargin{-5mm}

% commandline環境を定義。画面入出力についてはcommandline環境
% で表記する
\newenvironment{commandline}%
{\VerbatimEnvironment
  \begin{Sbox}\begin{minipage}{15cm}\begin{fontsize}{7.3}{7.3} \begin{BVerbatim}}%
{\end{BVerbatim}\end{fontsize}\end{minipage}\end{Sbox}
  \setlength{\fboxsep}{8pt}\fbox{\TheSbox}}


%%% start of santaku
\makeatletter
\newwrite\tf@jqz
\immediate\openout\tf@jqz\jobname.jqz\relax
\makeatother
\newcounter{santakucounter}
\newcommand{\santaku}[5]{%
\addtocounter{santakucounter}{1}

\addtocontents{jqz}{\arabic{santakucounter}. #5\\}
\nopagebreak 問題\arabic{santakucounter}. 
#1\\
\nopagebreak□ A #2\\
\nopagebreak□ B #3\\
\nopagebreak□ C #4
\pagebreak[1]
\hspace{1cm}
\\

}
%%% end of santaku

\newcommand{\emptyspace}{(\underline{\hspace{1cm}})}

\newcommand{\subsubsubsection}[1]{%
\vspace{1zw}{\bf #1}\\}

% sectionをセンタリングする
\makeatletter
  \renewcommand{\section}{\@startsection{section}{1}{\z@}%
    {\Cvs \@plus.5\Cdp \@minus.2\Cdp}% 前アキ
    {.5\Cvs \@plus.3\Cdp}% 後アキ
    {\normalfont\Large\headfont\raggedright\centering}} % style
\makeatother

% section の代わりの環境
\newcommand{\dancersection}[2]{%
\newpage
東京エリアDebian勉強会 2006
\hrule
\vspace{0.5mm}
\hrule
\hfill{}\includegraphics[width=3cm]{image200502/openlogo-nd.eps}\\
\vspace{-4cm}
\begin{center}
  \section{#1}
\end{center}
\hfill{}#2\hspace{3cm}\space\\
\hrule
\hrule
\vspace{1cm}
}


% BTSの番号を見るためのコマンド
\newcommand{\debianbug}[1]{#1\footnote{\url{http://bugs.debian.org/#1}}}

% for dancerj
\newcommand{\fgref}[1]{図\ref{#1}}
\newcommand{\tbref}[1]{表\ref{#1}}


\begin{document}

\begin{titlepage}

% 毎月変更する部分, 本文の末尾も修正することをわすれずに
\title{\includegraphics[width=7cm]{image200502/openlogo-nd.eps}\\
 第13回 東京エリア Debian 勉強会\\事前資料}
\date{2006年2月18日}
\author{Debian勉強会会場係 上川純一\thanks{Debian Project Official Developer}} 
\maketitle
\thispagestyle{empty}
\end{titlepage}

\newpage
\tableofcontents

\dancersection{Introduction To Debian 勉強会}{上川純一}

今月のDebian勉強会へようこそ。
これからDebianのあやしい世界に入るという方も、すでにどっぷりとつかってい
るという方も、月に一回Debianについて語りませんか？

目的として下記の二つを考えています。

\begin{itemize}
 \item メールではよみとれない、もしくはよみとってられないような情報を情
       報共有する場をつくる
 \item まとまっていないDebianを利用する際の情報をまとめて、ある程度の塊と
       して出してみる
\end{itemize}

また、東京にはLinuxの勉強会はたくさんありますので、Debianに限定した勉強
会にします。Linuxの基本的な利用方法などが知りたい方は、他でがんばってくださ
い。
Debianの勉強会ということで究極的には参加者全員がDebian Packageを
がりがりと作りながらスーパーハッカーになれるような姿を妄想しています。

Debianをこれからどうするという能動的な展開への土台としての空間を提供し、
情報の共有をしたい、というのが目的です。
次回は違うこと言ってるかもしれませんが、御容赦を。

\subsection{講師紹介}

\begin{itemize}
 \item{上川純一} 宴会の幹事です。
\end{itemize}

\subsection{事前課題紹介}

今回の事前課題は
「XXX」
というタイトルで200-800文字程度の文章を書いてください。
というものでした。
その課題に対して下記の内容を提出いただきました。

\subsubsection{}

\subsubsection{上川}


%%% trivia quiz
\dancersection{Debian Weekly News trivia quiz}{上川純一}

ところで、Debian Weekly News (DWN)は読んでいますか？
Debian 界隈でおきていることについて書いているDebian Weekly News.
毎回読んでいるといろいろと分かって来ますが、一人で読んでいても、解説が少
ないので、
意味がわからないところもあるかも知れません。みんなでDWNを読んでみましょう。

漫然と読むだけではおもしろくないので、DWNの記事から出題した以下の質問にこたえてみてください。
後で内容は解説します。

\subsection{2006年XX号}
\url{http://www.debian.org/News/weekly/2006/XX/}
にあるX月X日版です。


\santaku
{}
{}
{}
{}
{}

\dancersection{最近のDebian関連のミーティング報告}{上川純一}

\subsection{東京エリアDebian勉強会12回目報告}
% (query-replace-regexp "<.*>" "")


\dancersection{Debian multimedia project}{上川}
\label{sec:uekawa}

Debian には Multimedia Project というサブプロジェクトがあります，
そこで何がなされていて，何ができるようになっているのかを説明します．

\subsection{agnula/DeMuDi}

Debian Multimedia Distribution というプロジェクトがあります．
これはDebian に，RTカーネルを追加し，いくつかのパッケージをカスタマイズ
して作成したものです．Debian用語でいう，「CDD:Custom Debian Distribution」の一
つで，インストール直後からオーディオアプリケーションが使える便利なディス
トリビューションです．

Debian本体とパッケージ自体はあまりかわりません．

\subsection{Debian multimedia policy}

multimedia関連のツールを利用する際には，複数のツールを相互に作用させる必
要があり，相互作用のための規格はDebian外部で活発に議論されていました．た
とえばlinux-audio-devメーリングリスト周辺では音楽関連のセッション管理や
相互通信のための規格が議論されています．

\subsection{今Debianでできること}

Debianにて音楽活動をしようとすると何ができるのか，何ができないのか，追求
してみようと思います．
MIDIデバイスはまだ持っていないのではたして2月までにこの資料は完成するの
か？

下記に分類してみようと思います．

\begin{itemize}
 \item フレームワーク系: システムを構築する上で必須なものたち．
 \item マルチトラック/音声編集系
 \item シンセ
 \item エフェクト
 \item MIDI(音譜)編集系
\end{itemize}

\subsection{フレームワーク系}

Debianでは音楽関連のフレームワーク系も独自に管理しています．この関連につ
いて議論する場所は\url{debian-multimedia@lists.debian.org}メーリングリス
トです．

\subsubsection{jack-audio-connection-kit}

各音楽関連のアプリケーションが利用する音声経路ルーティングプロトコルです．
jackdというデーモンが実行しているユーザ権限で起動し，それを経由して
通信します．

コマンドラインは，
{\tt jackd -d alsa -d {\it デバイス名} -r {\it サンプルレート}}のように
します．

\begin{commandline}
 jackd -d alsa -d ixp -r 48000
\end{commandline}


ポートの接続はコマンドラインからでも操作できますが，おそらくqjackctlを利
用するのがよいでしょう．
コマンドラインからでも操作できます．
USBデバイスがうまく動かなかったり，複数のサウンドカードを同時に使えない
という制限がありますが，そういう場合は現状としては，
ecasoundなどのjackとALSA対応のアプリケーションをかましてしのいでいます．

\begin{commandline}
$ jack_lsp 
 alsa_pcm:capture_1
 alsa_pcm:capture_2
 alsa_pcm:playback_1
 alsa_pcm:playback_2
$ ecasound -i alsaplugin,2,0,0 -o jack_generic,usbaudio &
$ jack_lsp 
alsa_pcm:capture_1
alsa_pcm:capture_2
alsa_pcm:playback_1
alsa_pcm:playback_2
alsa_pcm:playback_3
alsa_pcm:playback_4
alsa_pcm:playback_5
alsa_pcm:playback_6
ecasound:usbaudio_1
ecasound:usbaudio_2
\end{commandline}

\subsubsection{qjackctl}

ポートの接続はqjackctlで操作します

\includegraphics[width=10cm]{image200602/qjackctl-0.png}
\includegraphics[width=10cm]{image200602/qjackctl-1.png}
\includegraphics[width=10cm]{image200602/qjackctl-2.png}



\subsubsection{ladspa}

オーディオのエフェクトを処理するための，プラグインインタフェースです．
また，ladspa-devパッケージが存在しており，そのパッケージに含まれている
/usr/include/ladspa.h を利用することが推奨されています．
LADSPA自体がポリシーを定義していますが，Debianのladspaパッケージは，
追加で\url{/usr/share/doc/ladspa-sdk/README.Debian}にて定義されている下記のポ
リシーにしたがっています．

\url{/usr/lib/ladspa/}にパッケージが提供するLADSPAプラグインを提供するこ
と．\verb!LADSPA_PATH!環境変数が定義されていない場合には，
\url{/usr/local/lib/ladspa:/usr/lib/ladspa}をデフォルトの検索パスとして
利用すること．

\subsubsection{ladcca}

LADCCAというフレームワークが存在しているようです．
気づいたらlash \url{http://www.nongnu.org/lash/} というプロジェクトにか
わってしまっているようです．
セッション管理のためのフレームワークです．

\subsection{ソフトウェアシンセ}

\subsubsection{TSE3}

シーケンサエンジンのようです．
KDE関連のアプリはこれを利用しているような気がしています．
本当か？

\subsubsection{timidity}

事実上の標準のMIDIシーケンサエンジンです．
MIDIデータからWAVを生成するためのインタフェースとして利用されています．

\subsubsection{zynaddsubfx}

\includegraphics[width=10cm]{image200602/zynaddsubfx.png}

オルガン系の音やパッド系の音が結構使えます．

仮想キーボードのUIがお手軽です．


\subsubsection{hydrogen}

UIが優秀なのでドラムシーケンサとして活用しています．

\includegraphics[width=10cm]{image200602/hydrogen.png}

\subsubsection{pd}

UIがかなり前時代的ですが，シンセをGUIで編集するという系では元祖みたいな
存在．
使い方がわからん．

\subsubsection{beast}

GTKシンセ．頑張っています．使い方が．．．

\subsubsection{csound}

学術系の人々の中で長い間つかわれてきたものらしく，過去の遺産が大量にあり
ます．ちょっと学術的すぎて個人的には使っていません．

\subsubsection{vkeybd}

使い方がわからない．
MIDIキーボードのようです．

\includegraphics[width=10cm]{image200602/vkeybd.png}



\subsection{楽譜編集}
\subsubsection{lilypond}

TeXで楽譜を作成しよう，というパッケージ．
まともな楽譜を作成するような作業をする際にはこれでやってました．



\subsubsection{denemo}

今までは上川はこれで一小節程度の楽譜ならこちょこちょっと作成して用を足して来た．
キーバインドも数字で音符の長さが決まっていたり，キーの上下で操作できたり
する．久しぶりに見てみるとインタフェースが大幅に改善されているよう．

\includegraphics[width=10cm]{image200602/denemo.png}

TODO MIDI import/export

\subsubsection{noteedit}

MIDIのインポートもできるらしい．
とりあえず楽譜を表示することはできるっぽい．

TODO MIDI import/export
TODO 操作方法

\includegraphics[width=10cm]{image200602/noteedit.png}


\subsubsection{rosegarden4}

apt-get install rosegarden4 でインストール．

一応楽譜が編集できるらしい．
デバッグメッセージが大量に出て来るのとなんだか反応が鈍い感じ．

TODO 操作方法が全くわからん

TODO MIDI import/export?


\includegraphics[width=10cm]{image200602/rosegarden4-1.png}

\includegraphics[width=10cm]{image200602/rosegarden4-2.png}


\subsubsection{kguitar}

apt-get install kguitarでインストール．

ギターのタブ譜を編集できるソフトウェアのようです．使い方が分からないので，
困りました．楽譜が出るはずのようですが，出てません．ギターの絵が素敵です．
MIDI入出力ができることになっているようです．

\includegraphics[width=10cm]{image200602/kguitar.png}

\includegraphics[width=10cm]{image200602/kguitar2.png}


\subsection{音声編集系}

\subsubsection{ecasound}

apt-get install ecasound でインストール．

コマンドラインベースで音声加工をする．

よく使うコマンドは

音量をノーマライズする．(可能な最大の音量まであげる)\\
\begin{commandline}
$ ecanormalize in.wav
\end{commandline}
%$

in.wav にコンプレッサーエフェクトをかけて，out.wavを生成する．\\
\begin{commandline}
$ ecasound -i in.wav -o out.wav -eca
\end{commandline}
%$

とりあえず録音する\\
\begin{commandline}
$ ecasound -i alsahw,0,0,0 -o /tmp/a.wav
********************************************************************************
*        ecasound v2.4.3 (C) 1997-2005 Kai Vehmanen and others
********************************************************************************
- [ Session created ] ----------------------------------------------------------
- [ Chainsetup created (cmdline) ] ---------------------------------------------
- [ Connecting chainsetup ] ----------------------------------------------------
(eca-chainsetup) 'rt' buffering mode selected.
(eca-chainsetup) Audio object "alsahw", mode "read".
(audio-io) Format: s16_le, channels 2, srate 44100, interleaved.
(eca-chainsetup) Audio object "/tmp/a.wav", mode "read/write".
(audio-io) Format: s16_le, channels 2, srate 44100, interleaved.
- [ Chainsetup connected ] -----------------------------------------------------
(eca-control-objects) Connected chainsetup: "command-line-setup".
- [ Controller/Starting batch processing ] -------------------------------------
- [ Engine init - Driver start ] -----------------------------------------------

ここでctrl-Cで停止

- [ Controller/Processing stopped (cond) ] -------------------------------------
- [ Engine exiting ] -----------------------------------------------------------
(eca-control-objects) Disconnecting chainsetup: "command-line-setup".
- [ Chainsetup disconnected ] --------------------------------------------------
- [ Controller/Batch processing finished ] -------------------------------------
\end{commandline}
%$


\subsubsection{sweep}

apt-get install sweep でインストール．

メモリ上にwavファイルを展開するので，大きいwavファイルは編集できない．
プリビューが優秀．ダブルクリックしたらそこから再生したりしてくれる．
こまかい波形の切りだしなどに上川愛用．

\includegraphics[width=10cm]{image200602/sweep.png}

\subsubsection{rezound}

apt-get install rezound でインストール。

試してみましたが，手もとの環境ではjackを利用した場合にはあまり安定して動作しませんでした．

\begin{commandline}
$ rezound --audio-method jack
\end{commandline}

\includegraphics[width=10cm]{image200602/rezound-0.png}
\includegraphics[width=10cm]{image200602/rezound-1.png}
\includegraphics[width=10cm]{image200602/rezound-2.png}
\includegraphics[width=10cm]{image200602/rezound-3.png}
\includegraphics[width=10cm]{image200602/rezound-4.png}
\includegraphics[width=10cm]{image200602/rezound-5.png}
\includegraphics[width=10cm]{image200602/rezound-6.png}


\subsubsection{audacity}

apt-get install audacity でインストール．

audacityで起動．
マルチトラックのオーディオ編集に最適．巨大な波形データもメモリ上に全てを
ロードしようとはしないので編集できる．
巨大なデータの一次処理用には上川愛用．


\includegraphics[width=10cm]{image200602/audacity.png}

TODO: MIDIのインポートができることになっている．

TODO: 日本語インタフェースを利用すると悲惨


\subsubsection{ardour}

apt-get install ardour-gtk でインストール．

マルチトラックの音声ファイルは編集できるけど，音符が編集できそうな雰囲気は無い．

\includegraphics[width=10cm]{image200602/ardour1.png}

\includegraphics[width=10cm]{image200602/ardour2.png}

\subsubsection{muse}

手もとの環境ではSEGVで死にました．

\begin{verbatim}
LC_ALL=C catchsegv muse
No superuser privileges, using system timer fallback
NO Config File </home/dancer/.MusE> found
no locale <muse_ja_JP.EUC-JP>/</usr/share/muse/locale>
Trying RTC timer...
fatal error: open /dev/rtc failed: Permission denied
Trying ALSA timer...
got timer = 12
QObject::connect: No such signal PartCanvas::horizontalScroll(int)
QObject::connect:  (sender name:   'unnamed')
QObject::connect:  (receiver name: 'unnamed')
Arranger::configChanged - no bitmap!
open projectfile: No such file or directory
starting with default template
  name2route: <alsa_pcm:playback_1> not found
  name2route: <alsa_pcm:playback_2> not found
Arranger::configChanged - no bitmap!
AlsaTimer::setTimerTicks(): requested freq 1024 Hz too high for timer (max is 10 00)
  freq stays at 1000 Hz
set realtime scheduler: Operation not permitted
midi thread 22054 _NOT_ running SCHED_FIFO
*** Segmentation fault

省略
Backtrace:
muse[0x46635e]
/lib/libc.so.6(__libc_start_main+0xda)[0x2aaaadb384ca]
muse(_ZN9QComboBox11setEditTextERK7QString+0x5a)[0x428fba]
\end{verbatim}


\subsubsection{snd}

音声業界でのemacsと呼ばれています．使い方がわからないです．誰か教えて下
さい．


\dancersection{次回}{}

未定です。
内容は本日決定予定です。

参加者募集はまた後程。

\newpage

\vspace*{15cm}
\hrule
\vspace{2mm}
\includegraphics[width=2cm]{image200502/openlogo-nd.eps}
\noindent \Large \bf Debian 勉強会資料\\ \\
\noindent \normalfont 2006年2月18日 \hspace{5mm}  初版第1刷発行\\
\noindent \normalfont 東京エリア Debian 勉強会 （編集・印刷・発行）\\
\hrule

\end{document}
