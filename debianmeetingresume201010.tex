%; whizzy chapter
% -initex iniptex -latex platex -format platex -bibtex jbibtex -fmt fmt
% 以上 whizzytex を使用する場合の設定。

%     Tokyo Debian Meeting resources
%     Copyright (C) 2010 Junichi Uekawa

%     This program is free software; you can redistribute it and/or modify
%     it under the terms of the GNU General Public License as published by
%     the Free Software Foundation; either version 2 of the License, or
%     (at your option) any later version.

%     This program is distributed in the hope that it will be useful,
%     but WITHOUT ANY WARRANTY; without even the implied warranty of
%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%     GNU General Public License for more details.

%     You should have received a copy of the GNU General Public License
%     along with this program; if not, write to the Free Software
%     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA

%  preview (shell-command (concat "evince " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
% 画像ファイルを処理するためにはebbを利用してboundingboxを作成。
%(shell-command "cd image201010; ebb *.jpg")

%%ここからヘッダ開始。

\documentclass[mingoth,a4paper]{jsarticle}
\usepackage{monthlyreport}
\usepackage{wrapfig}

% 日付を定義する、毎月変わります。
\newcommand{\debmtgyear}{2010}
\newcommand{\debmtgmonth}{10}
\newcommand{\debmtgdate}{16}
% (+ (* (- 2010 2005) 12) 9) started from zero
\newcommand{\debmtgnumber}{69}

\begin{document}


\begin{titlepage}
\thispagestyle{empty}
% タイトルページ:編集必要な部分は最初のマクロに飛ばすこと

\vspace*{-2cm}
第\debmtgnumber{}回 東京エリア Debian 勉強会資料\\
\hspace*{-2cm}
\includegraphics[width=210mm]{image201003/debsen.eps}\\
\hfill{}\debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日

% ここはアップデートすること
\rotatebox{10}{\fontsize{32}{32} {\gt 特集: 俺のＤｅｂｉａｎな一日}}

\vspace*{-2cm}
\hfill{}\includegraphics[height=6cm]{image200502/openlogo-nd.eps}
\end{titlepage}

\dancersection{Introduction}{上川 純一}

\begin{multicols}{2}
 

 今月のDebian勉強会へようこそ。これからDebianの世界にあしを踏み入れると
 いう方も、すでにどっぷりとつかっているという方も、月に一回Debianについ
 て語りませんか？

 Debian勉強会の目的は下記です。

 \begin{itemize}
 \item \underline{Debian Developer} (開発者)の育成。
 \item 日本語での「\underline{開発に関する情報}」を整理してまとめ、アップデートする。
 \item \underline{場}の提供。
 \begin{itemize}
  \item 普段ばらばらな場所にいる人々が face-to-face で出会える場を提供
	する。
  \item Debian のためになることを語る場を提供する。
  \item Debianについて語る場を提供する。
 \end{itemize}
 \end{itemize}		

 Debianの勉強会ということで究極的には参加者全員がDebian Packageをがりがり
 と作るスーパーハッカーになった姿を妄想しています。情報の共有・活用を通し
 て Debianの今後の能動的な展開への土台として、「場」としての空間を提供す
 るのが目的です。

\end{multicols}

\newpage

\begin{minipage}[b]{0.2\hsize}
 \definecolor{titleback}{gray}{0.9}
 \colorbox{titleback}{\rotatebox{90}{\fontsize{80}{80} {\gt デビアン勉強会} }}
\end{minipage}
\begin{minipage}[b]{0.8\hsize}
\hrule
\vspace{2mm}
\hrule
\begin{multicols}{2}
\tableofcontents
\end{multicols}
\vspace{2mm}
\hrule
\end{minipage}

\dancersection{事前課題}{上川 純一}

今回の事前課題は以下です:

\begin{itemize}
 \item 俺のDebianな一日
\end{itemize}

この課題に対して提出いただいた内容は以下です。

\input{image201010/prework.tex}

\dancersection{最近のDebian関連のミーティング報告}{岩松信洋}
\subsection{東京エリアDebian勉強会62回目報告}
% (query-replace-regexp "<.*?>" "")
% (query-replace-regexp "^[	 ]\+" "")

東京エリアDebian勉強会の62回目はオリンピックセンターで開催されました。

\includegraphics[width=12cm]{image201007/debianmeeting1.jpg}

OSC北海道のリハーサルを行い、ホワイトボードで今後の計画を策定しました。

\includegraphics[width=12cm]{image201007/debianmeeting2.jpg}

%-------------------------------------------------------------------------------
\dancersection{OSC北海道参加報告}{荒木靖宏}
%-------------------------------------------------------------------------------


荒木の発表は「あなたはどっち、CloudでDebian, DebianでCloud」という題でDebianでのCloudにまつわる話をしました。

岩松の発表は「squeezeに向けたDebian GNU/kFreeBSD入門」という題でDebian GNU/kFreeBSDがどのようにDebianにはいり、どのように使用するのか、などの話をしました。

土曜日の朝最初のセッションで出足を心配したのですが、割り当てられた部屋はほぼ満員でした。

また、GPGキーサインパーティには事前に6人の参加表明があり、飛び入りもあり、合計8名でした。

%-------------------------------------------------------------------------------
\dancersection{Debian Conference 2010参加報告}{やまねひでき}
\label{sec:debconfreportsummary}
\index{DebConf2010}
\index{DebConf}

\subsection{DebConfとは}
年一回世界中のDebian開発者と関係者が集まって開かれるテクニカルカンファレンス「Debian Conference」のことです。
通常顔をあわせることのないメンバーたちが世界各地から一同に介し友好を深め、技術的な議論を戦わせます。

\subsubsection{Debconfの歴史・経緯}
過去の開催履歴を見てみると\tbref{tab:debconflist}のようになります。

\begin{table}[H]
\caption{歴代のDebconf参加者推移}
\label{tab:debconflist}
 \begin{center}
 {\footnotesize
 \begin{tabular}{|c|c|c|r|}
 \hline
 年 & 名前 & 場所 & 参加人数 \\
 \hline
 2000 & debconf 0 &フランス ボルドー & \\
 2001 & debconf 1 &フランス ボルドー & \\
 2002 & debconf 2 &カナダ トロント & 90名 \\
 2003 & debconf 3 &ノルウェー オスロ & 140名 \\
 2004 & debconf 4 &ブラジル ポルトアレグレ &  150名 \\
 2005 & debconf 5 &フィンランド ヘルシンキ & 200名 \\
 2006 & debconf 6 &メキシコ オアスタペック & 300名 \\
 2007 & debconf 7 &英国スコットランド エジンバラ & 約400名 \\
 2008 & debconf 8 &アルゼンチン マルデルプラタ & 約200名 \\               
 2009 & debconf 9 &スペイン エクストラマドゥーラ & 約250名 \\
 2010 & debconf 10 &アメリカ ニューヨーク & 約350名 \\
 2011 & debconf 11 &ボスニア・ヘルツェゴビナ バニャ・ルカ & ？名\\
 \hline
 \end{tabular}
 }
 \end{center}
\end{table}

\subsubsection{Debconf 2010}
今年のDebConf、DebConf10 (\url{http://debconf10.debconf.org/}) はアメリカ・ニューヨークのコロンビア大学で開催されました。
日本からは、岩松 信洋、鈴木 崇文、やまねひできの3名が参加しました。

\subsubsection{会場}
コロンビア大学キャンパスにカンファレンス会場としてトークルームに2室、BOFルームに1室、AdHocセッション用に1室、それから昼夜を問わずに作業する人のためのハックラボが2室設けられました。NYCという大都会の大学キャンパス（すぐ側に24時間運転の地下鉄駅がある）での開催ということもあり、会場周りは昼夜を問わずかなり賑やかな状態でした。ニューヨークと言うと危険なイメージがあるようですが、怖いのは街中を歩いてもものすごく体格のいい人が多いこととタトゥーな人が多いことぐらいです。

今回のネットワークは、コロンビア大学の屈強なバックボーンへGuruPlugなども使った即席手作り感満載のネットワークが接続されてました。無線が非常に繋がりにくいのなんのって…。また、Debianのミラーサーバについては、前年のスペインではDNSを乗っ取ってローカルのミラーを見せるようにしていたようですが、今回はコロンビア大学のネットワークを利用している為にそういう訳にもいかず、cdn.debian.netを使うのはどう？→ディレクトリ構成が違うからコロンビア大学は加えられない→変えたよ！→cdnに追加したよ！という感じで最終的にcdn.debian.netの改善に繋がったりしました。この後も色々とcdn.debian.netには要望が出たり、Debian Live の標準 apt line に加えられていたりといい感じでした。荒木さんに拍手。

\subsection{スケジュールとイベント}
今回は8月1日から7日が開催期間で、間の1日が Day Trip として Coney Island というニューヨークの端のビーチでのんびり＆マイナーリーグの観戦という形でした。例によってDebConf期間の前に1週間 DebCamp という開発合宿も開かれていたようです。

今回イベントとして「RCBC(release critical bugs contest、\url{http://wiki.debconf.org/wiki/DebConf10/RCBC})」と題し、皆でRC(Release Critical)バグを潰そう、というものが開かれました。これによって100個以上のバグが一気に修正され、多くのバグを潰した人には懸賞としてGuruPlugやHPのelite bookやネットブック、書籍類などが進呈されていました。この期間中に岩松さんが3個、私は1個潰しましたので書籍を頂きました。でも英語なんですよね…。

\subsection{セッション}

今年は大きくトラックカテゴリとして「コミュニティ」「Java」「サイエンス」「エンタープライズ」「メディア＆アート」が設けられ、それぞれに合わせたセッションが開催されました。で、肝心の内容ですが、これを書く時間が無い＆もうSoftware Design 2010年10月号で書いた＆ウェブから大半のセッションが見れますよ、なので SD とウェブで見てください…。サイトは \url{http://www.debianart.org/live/} です。

Debian が多くの派生ディストロの「Hub」として振る舞うことを意識した話で「Derivatives Front Desk」を設けて派生ディスリビューション間での交流を進めていくことや、特に Canonical サイドからなるべく Debian にフィードバックしようという話が盛んに出ていたことが印象に残ります。Canonical としては自前で変更点を保持していくのがコスト高なのが懸念点なのでしょう（Nexenta も Solaris 対応のパッチ維持が大変なので、という発言をしていました）。

それから Stable に対する見直しの話が出ています。安定版をより使いやすいものにするために方針を緩めて「BTS上でimportant以上のバグ修正」「FTBFS(failed to build from source, ソースからビルドができない問題)の修正」「セキュリティ勧告がでていない致命的ではないがセキュリティ上の修正」をポイントリリースで取り入れていくそうです。

\subsection{次回のDebconf}
来年はボスニアのバニャルカが開催地です。政府の全面バックアップがあるようなので Free Beer に期待。

%-------------------------------------------------------------------------------
\dancersection{OSC Tokyo 2010/Fall 参加報告}{まえだこうへい}
%-------------------------------------------------------------------------------

2010年9月11日(土)に、OSC Tokyo
2010/Fall\footnote{\url{http://www.ospn.jp/osc2010-fall/}}が春と同じく明
星大学にて開催されました。今回は、セッション2つとブース展示です。

セッションは
\begin{itemize}
 \item GPGキーサイン説明およびGPGキーサインパーティ
       \footnote{\url{http://www.ospn.jp/osc2010-fall/modules/eguide/event.php?eid=47}}
 \item でびあん らんだむとぴっくす
       \footnote{\url{http://www.ospn.jp/osc2010-fall/modules/eguide/event.php?eid=9}}
\end{itemize}
で、前者は岩松さんが、後者はやまねさんが発表を行いました。

GPGキーサインパーティには岩松さんを含め10名の参加\footnote{事前登録は12
名。}があり、GPGキーサインの説明の後、その場でキーサインが行われました。
キーサイン自体が初めての方も半数くらいいて、参加者のうち大半はその後ブー
スにも立ち寄ってくれました。

らんだむとぴっくすは、Debian 17執念、Debconf10、Squeezeの話でした。参加
者は20名を超えて、資料は文字がほとんどなく、後から資料だけを見ると大抵さっ
ぱりと思われる内容ですが、こちらも盛況でした。

ブースでは、Debian関連の書籍と、Squeeze on OpenBlockS 600の展示、Debian
へのコメントを一言、を行いました。一言もらった方にはぐるぐるステッカーを
無償で差し上げる、という試みを行いました。またDebianではなくUbuntuしか使っ
たことが無いですが何か？という人がかなり多かったのですが、そういう人に対
してはUbuntuに対する意見でも構わない、ということを伝えたのでコメント記入
の敷居が多少下がったようでした。

終了後、やまねさん、山本さん、まえだの三名で高幡不動のとんかつ和幸で打ち
上げ＆反省会を、その後タリーズに移動して、Miniconfの開催についてのディス
カッションを行いました。\footnote{今回のネタにリンクする、というわけです。}

%-------------------------------------------------------------------------------
\dancersection{LinuxCon Japan 2010 参加報告}{鈴木崇文}
%-------------------------------------------------------------------------------
LinuxCon Japan 2010は9月27~29日の日程で六本木アカデミーヒルズで開催され
ました。参加したセッションは主に次の二つです。
\begin{itemize}
 \item MeeGo
 \item Samba
\end{itemize}
また、同日開催されたCELF BoFについて、Ubuntu絡みの話について聞いてきたの
で、セッションの内容について、および、今回のLinuxConの規模、参加者、その
場の雰囲気について、今回の勉強会で報告します。

%-------------------------------------------------------------------------------
\dancersection{あるDebianな一日}{上川純一}
%-------------------------------------------------------------------------------

\subsection{始まり}

朝起きる、ワシントンDCで買ってきたスターバックスのマグカップに湯を注ぎコ
コアをいれる。まだ外は暗い。おもむろにマシンを起動する。SSDベース
\footnote{内蔵ディスクがHDDではなくてSSDのモデルがある。}のvaio
type Pはしずかに起動する。grub はLinux パーティションを自動起動するように設
定されており、ひとしきりLinuxの起動メッセージが画面に流れたあとGDMのログ
イン画面が登場する。
ユーザ名とパスワードを入力。画面はきりかわり、いくつか
のアプリケーションが自動で起動する。
pidgin, google-chrome, emacs 22, gnome-terminal。

毎日ではない、でも週に一回はこの日がくる。
今日はバックアップをとる。USB経由で接続できる 2.5インチ
ディスクを接続し、ディスクがスピンアップするのを待つ。
backup.sh を実行するとLVM ボリュームのスキャン、ext3 ファイルシステムのマウントと
\texttt{pdumpfs} の実行処理がはしり、かりかりとバックアップがとられる。
定期的なバックアップ作業の一環として、ディスクの使用量を確認する。\texttt{df -i} で inode の残量、 \texttt{df -h} でディスク容量
の残量を確認する。まだ余裕があるようだ。

\begin{commandline}
$ df -i 
/dev/mapper/vgvaio-vaiohome
                     5242880  417994 4824886    8% /home
/dev/mapper/vgusb1-coreduohome
                     4587520 1116140 3471380   25% /mnt
$ df -h 
/dev/mapper/vgvaio-vaiohome
                       79G   64G   12G  85% /home
/dev/mapper/vgusb1-coreduohome
                       69G   46G   21G  70% /mnt

\end{commandline}

メールを取り込む。メールはssh経由の独自のバッチプロトコルで取得する。
これは高レイテンシネットワーク(Air H'') をつかっ
ていた時代からの名残りだ。
そして \texttt{M-x wl} で wanderlust を立ち上げる。

\subsection{開発環境のメンテナンス}

開発環境をメンテナンスする。

まず、パッケージを最新にする。 apt-get update, apt-get upgrade, apt-get
dist-upgrade を行う。手元の環境はときによりstableだったりtesting だったりする。最
近はvaio type Pではstableを使っている。

開発用につかっている chroot イメージをアップデートする。
\texttt{cowbuilder　--update} で最新のパッケージをダウンロードしていくる。
chroot環境はsidを基本としている。

あと他にもchroot環境がいくつかあったりする。
cowbuilder ではない環境も用意してある。\texttt{/home}をバインドマウント
している chroot ディレクトリがあり、\verb!chroot_sid.sh!コマンドで
その環境に入れるようにしてある。自作の jchroot コマンドを使い
現在の実行しているユーザ、現在のディレクトリと同じ場所、でchroot内部の
bashが立ち上がるようになっている。標準のchroot コマンドだけだといまいち
かゆいところに手が届かないのと、dchrootコマンドの実装がいまいち気に入ら
ないから自作してしまった。

手元の apt ミラーとして approx が動いているので、同じパッケージを複数の
chroot 環境で必要となっても大丈夫だ。

\subsection{バグレポートの処理}

パッケージのメンテナンスをする、主となるのはバグレポートの対応だ。
バグレポートは\url{http://bugs.debian.org/}のウェブインタフェースで確認
できる。
手元で欲使うのはメールインタフェースだ。
バグ報告はメールとして送られてくる。

emacs とたちあげ、 wanderlust を立ち上げる。
バグレポートにパッチが添付されていれば、それを適用する。
手順としては、 ``e'' でメールをファイルとして保存し、
そのファイルをソースコードのディレクトリに移動して　git am で適用する。
今日はpbuilder のバグ処理をしているので、pbuilder のソースツリー。

残念ながらこの一番シンプルなフローにしたがってくれるバグ報告は少ない.
ほとんどのバグ報告ははパッチつきではないし、ついていたとしても手直しなし
で適用できるものではない。
そういう場合はいろいろといじってから \texttt{git commit} することになる。

\subsection{テストとリリース}

パッケージをビルドしてテストするスクリプトは自動化している。emacs lisp で
書いてあり、emacs からビルドとテストが実行されるようになっている。
\texttt{cowbuilder --build} を実行して、すべて成功したら日付別になっている「成功し
たファイル置き場」においてくれるというもの。

管理しているパッケージはすべて \texttt{debian/pbuilder-test/} ディレクトリにテスト
スクリプトがあり、そのスクリプト全部が正常に実行できれば基本的な動作はで
きていると考える。
メンテナンスのコストを軽減するためにはテスト重要。

正常な動作をするパッケージが生成できるソースコードが準備できたら、
\texttt{denbian/changelog}を整備する。
まず、git dch -a でchangelog の雛形を生成して、編集。
debian-changelog modeをつかって、 \texttt{C-c C-e C-c C-d unstable C-c C-c}.

\texttt{git commit} して、 \texttt{git-tag.sh}というスクリプトを使って署名つきのタグを作成。
前出のelispを使って最終版のパッケージをcowdancer環境でビルドする。
\texttt{debsign} コマンドでできたパッケージに署名、その後\texttt{dput}でアップロード。

しばらく放置していると
ftp master から無事に accept されたというメールがくる。
これを受けてリポジトリの内容を git push --tags,  git push する。

新しいパッケージがこれでリリースできた。

\printindex

\cleartooddpage

\vspace*{15cm}
\hrule
\vspace{2mm}
\includegraphics[width=2cm]{image200502/openlogo-nd.eps}
\noindent \Large \bf Debian 勉強会資料\\ \\
\noindent \normalfont \debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日 \hspace{5mm}  初版第1刷発行\\
\noindent \normalfont 東京エリア Debian 勉強会 （編集・印刷・発行）\\
\hrule

\end{document}
