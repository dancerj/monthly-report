%; whizzy document
% latex beamer presentation.
% platex, latex-beamer でコンパイルすることを想定． 

\documentclass[cjk,dvipdfm]{beamer}
\usetheme{Warsaw}
%  preview (shell-command (concat "xpdf " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
%  presentation (shell-command (concat "xpdf -fullscreen " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))

\title{Mactel Debian の深遠なる世界}
%\title[Debian 勉強会クイズ問題]{Debian勉強会クイズ}
\subtitle{2006年7月15日版}
\author{上川}
\date{2006年7月15日}

% 三択問題用
\newcounter{santakucounter}
\newcommand{\santaku}[5]{%
\addtocounter{santakucounter}{1}
\frame{\frametitle{問題\arabic{santakucounter}. #1}
%問題\arabic{santakucounter}. #1
\begin{minipage}[t]{0.7\hsize}
 \begin{itemize}
 \item □ A #2\\
 \item □ B #3\\
 \item □ C #4\\
 \end{itemize}
\end{minipage}
}
\frame{\frametitle{問題\arabic{santakucounter}. #1}
%問題\arabic{santakucounter}. #1
\begin{minipage}[t]{0.7\hsize}
\begin{itemize}
\item □ A #2\\
\item □ B #3\\
\item □ C #4\\
\end{itemize}
\end{minipage}
\begin{minipage}[t]{0.2\hsize}
答えは:


\vspace{1cm}

{\huge \hspace{1cm}#5}
\end{minipage}}
}


\begin{document}
\frame{\titlepage{}}

\section{DWNQuiz}
%% debianmeetingresume200607.texから以下コピー

\section{MactelLinux}
\begin{frame}
\frametitle{MactelLinux 現状の概要}
\begin{center}
\begin{minipage}{0.5\hsize}
  \begin{itemize}
 \item　新アーキテクチャ\\
       起動部分はEFI
 \end{itemize}
\end{minipage}
\end{center}
\end{frame}
\begin{frame}
\frametitle{EFIという福音}

\begin{tabular}[t]{|p{8em}|p{8em}|p{8em}|}
\hline
 & BIOS & EFI \\
\hline
パーティション & MBR:4個　(「拡張」可能) & GPT: 128 \\
\hline
ファイルシステム &　魔窟 & FAT を読める \\
\hline
実行フォーマット & なにそれ? & PE32+形式の実行ファイル\\
\hline
\end{tabular}
\end{frame}

\begin{frame}
\frametitle{起動シーケンス}
\begin{minipage}[t]{0.4\hsize}
% dotty -Tps -o bootchain.ps bootchain.dot
\includegraphics[height=1\hsize]{image200607/bootchain.ps}
\end{minipage}
\begin{minipage}[t]{0.58\hsize}
\includegraphics[width=1\hsize]{image200607/screen1.png}
\end{minipage}
\end{frame}

\begin{frame}
\frametitle{EFIコマンドライン}

MS DOS 風味のコマンドラインが利用できるようになる。\\
ブートローダ以前の段階でコマンドラインが利用できるように!

EFI$>$ fs0:\\
EFI fs0:$>$ cd EFI\\
EFI fs0:$\backslash{}$EFI$>$ cd dancer\\
EFI fs0:$\backslash{}$EFI$\backslash{}$dancer$>$ cd refit\\
EFI fs0:$\backslash{}$EFI$\backslash{}$dancer$\backslash{}$refit$>$ dir\\
refit.efi\\
 EFI fs0:$\backslash{}$EFI$\backslash{}$debian$\backslash{}$refit$>$ refit

\end{frame}

\begin{frame}
\frametitle{できたこと}
\begin{itemize}
 \item rEFItをDebian上でコンパイルできるように
 \item refit Debianパッケージの作成、アップロード (375999)
 \item それっぽく動作試験
 \item gptsyncコマンドの提供
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{できてないこと}
\begin{itemize}
 \item インストール手法の確立\\
       MacOSXのbless コマンドに依存しない方法がない
 \item debian-installerへの統合
 \item rEFItでコンパイルできないツール多数\\
       gptsync.efiが動作していない -- 7/8 修正済み\\
       gnu-efiのefilibがどうも古いようだ(376000)
 \item バイナリ配布されているツールの発見(ソースはどこ?)
 \item elilo がうまくうごかない (376002)
 \item Debianの2.6.16/2.6.17カーネルは
       よくカーネルパニックをおこす\\
       (Linusの7月2日のgitツリーは安定動作、Mactel用のパッチが多数マージ
       されているようなのでお薦め)
\end{itemize}
\end{frame}
\begin{frame}
\frametitle{MBR vs GPT}
\begin{minipage}[t]{0.65\hsize} 
{\scriptsize
 Disk /dev/sda: 80.0 GB, 80026361856 bytes\\
255 heads, 63 sectors/track, 9729 cylinders\\
Units = cylinders of 16065 * 512 = 8225280 bytes\\

   Device Boot      Start         End      Blocks   Id  System\\
/dev/sda1               1          26      204819+  ee  EFI GPT\\
/dev/sda2              26        2637    20971520   af  Unknown\\
/dev/sda3   *        2637        2758      976563   ef  EFI (FAT-12/16/32)\\
/dev/sda4            2758        5190    19531250+  ef  EFI (FAT-12/16/32)\\
}
\end{minipage}
\begin{minipage}[t]{0.30\hsize}
{\small
 major minor  $\sharp{}$blocks  name\\

   8     0   78150744 sda\\
   8     1     204800 sda1\\
   8     2   20971520 sda2\\
   8     3     976563 sda3\\
   8     4   19531250 sda4\\
   8     5    2929688 sda5\\
}
\end{minipage}
\end{frame}

\begin{frame}
 \frametitle{EFI上でのgptsync実行例}
\includegraphics[width=0.8\hsize]{image200607/gptsync.png}
\end{frame}

\begin{frame}
 \frametitle{}
\begin{itemize}
 \item hfsplus -- HFS plus ファイルシステム
 \item hfsplus カーネルモジュール -- HFS plus ファイルシステム
 \item hfsutils -- HFS 
 \item \url{http://ipodlinux.org/Installation_from_Linux_Hfsplus}
 \item \url{http://darwinsource.opendarwin.org/tarballs/apsl/bless-37.tar.gz}
\end{itemize}
\end{frame}


\end{document}