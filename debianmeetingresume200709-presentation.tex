%; whizzy section -pdf xpdf -latex ./whizzypdfptex.sh
% latex beamer presentation.
% platex, latex-beamer でコンパイルすることを想定。 

%     Tokyo Debian Meeting resources
%     Copyright (C) 2007 Junichi Uekawa
%                   2007 Nobuhiro Iwamatsu
%                   2007 Aya Komuro

%     This program is free software; you can redistribute it and/or modify
%     it under the terms of the GNU General Public License as published by
%     the Free Software Foundation; either version 2 of the License, or
%     (at your option) any later version.

%     This program is distributed in the hope that it will be useful,
%     but WITHOUT ANY WARRANTY; without even the implied warranty of
%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%     GNU General Public License for more details.

%     You should have received a copy of the GNU General Public License
%     along with this program; if not, write to the Free Software
%     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA

% 実行順番
% sudo  ~/bin/usb-macbook-ir.c &
% real presentation (shell-command (concat "DISPLAY=:0.1 xpdf -fullscreen " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
% DISPLAY=:0.1 xpdf -fullscreen 

\documentclass[cjk,dvipdfm,12pt]{beamer}
\usetheme{Tokyo}
\usepackage{ulem}
\usepackage{tabularx}

\usepackage{fancybox}
\usepackage{fancyvrb}   
\usepackage{float}

% commandline環境を定義。画面入出力についてはcommandline環境
% で表記する
\newenvironment{commandline}%
{\VerbatimEnvironment
  \begin{Sbox}\begin{minipage}{0.9\hsize}\begin{fontsize}{7.3}{7.3} \begin{BVerbatim}}%
{\end{BVerbatim}\end{fontsize}\end{minipage}\end{Sbox}
  \setlength{\fboxsep}{8pt}
% start on a new paragraph

\vspace{6pt}% skip before
\fcolorbox{dancerdarkblue}{dancerlightblue}{\TheSbox}

\vspace{6pt}% skip after
}
%end of commandline

\definecolor{dancerdarkblue}{rgb}{0,0.08,0.45}
\definecolor{dancernormalblue}{rgb}{0.8,0.9,0.95}
\definecolor{dancerlightblue}{rgb}{0.8,0.95,1}


%  preview (shell-command (concat "evince " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
%  presentation (shell-command (concat "xpdf -fullscreen " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))

%http://www.naney.org/diki/dk/hyperref.html
%日本語EUC系環境の時
\AtBeginDvi{\special{pdf:tounicode EUC-UCS2}}
%シフトJIS系環境の時
%\AtBeginDvi{\special{pdf:tounicode 90ms-RKSJ-UCS2}}

\title{東京エリア Debian 勉強会}
\subtitle{資料}
\author{岩松 信洋 iwamatsu@debian.or.jp\\IRC nick: iwamatsu}
\date{2007年9月15日}
\logo{\includegraphics[width=8cm]{image200607/openlogo-light.eps}}


% 間のタイトルページ用
\newcommand{\emtext}[1]{
\begin{frame}{}
 
\begin{minipage}{0.55\hsize}
\includegraphics[width=1\hsize]{image200707/gurutitle.jpg}
\end{minipage}
\begin{minipage}{0.39\hsize}
 {\Huge #1
 }
\end{minipage}
\end{frame}
}

% 三択問題用
\newcounter{santakucounter}
\newcommand{\santaku}[5]{%
\addtocounter{santakucounter}{1}
\frame{\frametitle{問題\arabic{santakucounter}. #1}
%問題\arabic{santakucounter}. #1
\begin{minipage}[t]{0.8\hsize}
 \begin{itemize}
 \item
      \begin{minipage}{0.2\hsize}
      \includegraphics[width=0.9\hsize]{image200703/janken-A.png}\end{minipage} 
       \begin{minipage}{0.6\hsize}
       A #2\end{minipage}\\
 \item
      \begin{minipage}{0.2\hsize}
      \includegraphics[width=0.9\hsize]{image200703/janken-B.png}\end{minipage} 
       \begin{minipage}{0.6\hsize}
       B #3\end{minipage}\\
 \item
      \begin{minipage}{0.2\hsize}
      \includegraphics[width=0.9\hsize]{image200703/janken-C.png}\end{minipage} 
       \begin{minipage}{0.6\hsize}
       C #4\end{minipage}\\
 \end{itemize}
\end{minipage}
}
\frame{\frametitle{問題\arabic{santakucounter}. #1}
%問題\arabic{santakucounter}. #1
\begin{minipage}[t]{0.8\hsize}
\begin{itemize}
 \item
      \begin{minipage}{0.2\hsize}
      \includegraphics[width=0.9\hsize]{image200703/janken-A.png}\end{minipage} 
       \begin{minipage}{0.6\hsize}
       A #2\end{minipage}\\
 \item
      \begin{minipage}{0.2\hsize}
      \includegraphics[width=0.9\hsize]{image200703/janken-B.png}\end{minipage} 
       \begin{minipage}{0.6\hsize}
       B #3\end{minipage}\\
 \item
      \begin{minipage}{0.2\hsize}
      \includegraphics[width=0.9\hsize]{image200703/janken-C.png}\end{minipage} 
       \begin{minipage}{0.6\hsize}
       C #4\end{minipage}\\
\end{itemize}
\end{minipage}
\begin{minipage}[t]{0.15\hsize}
答えは:

\vspace{1cm}

  {\huge \hspace{1cm}#5}
  \hspace{-6cm}\includegraphics[width=4cm]{image200703/janken-#5.png}
 \end{minipage}}
}

\begin{document}
\frame{\titlepage{}}

\section{Intro}

\begin{frame}
 \frametitle{Agenda}
\begin{minipage}[t]{0.45\hsize}
  \begin{itemize}
  \item 注意事項
	\begin{itemize}
	 \item 飲食禁止
	 \item 政治/宗教/営利活動禁止
	\end{itemize}
  \item quiz
  \item 最近のDebian関連のイベント
	\begin{itemize}
	 \item 前回
	 \item コミケ
	 \item 1st Debian JP BSP
	\end{itemize}
 \end{itemize}
\end{minipage} 
\begin{minipage}[t]{0.45\hsize}
 \begin{itemize}
  \item Exim 
  \item MTA/MUA,ネットワークプロトコル
 \end{itemize}
\end{minipage}
\end{frame}

\section{最近}

\begin{frame}
 \frametitle{前回のAgenda}
\begin{minipage}[t]{0.45\hsize}
  \begin{itemize}
  \item 注意事項
	\begin{itemize}
	 \item 飲食禁止
	 \item 政治/宗教/営利活動禁止
	\end{itemize}
  \item quiz
  \item 最近のDebian関連のイベント
	\begin{itemize}
	 \item 前回
	 \item OSC-Kansai
	\end{itemize}
 \end{itemize}
\end{minipage} 
\begin{minipage}[t]{0.45\hsize}
 \begin{itemize}
  \item cdn.debian.or.jp
  \item 最近はまったこと
 \end{itemize}
\end{minipage}
\end{frame}

\section{DWN quiz}
\begin{frame}{Debian 常識クイズ}

Debian の常識、もちろん知ってますよね?
しらないとはずかしいけどしらないとは言えないいろいろなこと、
会長がこの目で確認しちゃうぞ!


今回の出題範囲は\url{debian-devel@lists.debian.org} に投稿された内容からです。
\end{frame}

\subsection{問題}

\santaku
{Albert Einstein が作った Debian ベースのディストリビューションは何か}
{ice linux}
{fantasy linux}
{fire linux}
{A}

\santaku
{そしてこのAlbert Einstein が debian-devel で質問した内容は何でしょう}
{なぜ Internet Explorer が Debian にないのですか。}
{なぜ Opera が Debian にないのですか。}
{なぜ Safari が Debian にないのですか。}
{B}

\santaku
{Luk Claes が RCバグについて提案したのはどのような内容か}
{RCバグが出たパッケージのメンテナへのペナルティを考える提案}
{RCバグの 0-day NMU についての提案}
{RCバグをいかにして無視するか、という HowTo.}
{B}

\santaku
{packages.debian.orgにいろいろ新機能が追加されました。どのような機能が追加されましたか}
{メールフォワード機能}
{カルマ付加機能}
{Webからパッケージ乗っ取り機能}
{A}

\section{最近の話題}

\emtext{Debian 勉強会}
\emtext{コミケ}
\emtext{1st Debian JP BSP}

\section{あなたが知らないかもしれない apt-xxx}
\emtext{あなたが知らないかもしれない apt-xxx}
\begin{frame}
 あまり知られていない apt-xxx について調べてみました。
\end{frame}

\begin{frame}{apt-key}
 \begin{itemize}%[<+->]
 \item apt の GPG鍵リングを制御するフロントエンド

   2006年から secure apt 導入
 \item GUI で操作したい向けパッケージも用意

   gui-apt-key
 \begin{figure}[h]
 \begin{center}
 \includegraphics[width=8cm]{image200709/gui-apt-key.png}
 \caption{gui-apt-key}
 \end{center}
 \end{figure}
 \end{itemize}
\end{frame}

\begin{frame}[containsverbatim]{apt-spy}
\begin{itemize}%[<+->]
 \item ネットワークの情報から最適な apt-line を生成することができるツール
   \begin{commandline}
# apt-spy -d stable -s JP
   \end{commandline}

 \item 今は cdn.debian.or.jp があるのですでに役目は終えた気がします。
 \end{itemize}
\end{frame}

\begin{frame}[containsverbatim]{auto-apt}
\begin{itemize}%[<+->]
 \item 世間では検索用のツールとして有名
 \begin{commandline}
 % auto-apt upate
 % auto-apt search stdio.h
 usr/include/stlport/stdio.h     libdevel/libstlport5.1-dev
 usr/include/fcgi_stdio.h        libdevel/libfcgi-dev
 usr/include/H5FDstdio.h libdevel/libhdf5-lam-dev,libdevel/libhdf5-mpich-dev,\
  libdevel/libhdf5-serial-dev
 usr/include/stdio.h     libdevel/libc6-dev
 \end{commandline}
 \item しかし、ファイル検索用として apt-file というコマンドがある
 \end{itemize}
 \end{frame}
\begin{frame}[containsverbatim]{auto-apt}
 \begin{itemize}%[<+->]
 \item 実は auto-apt は コマンド実行時に足りないパッケージをインストールしてくれるツール
 \begin{commandline}
 # auto-apt run apt-get source hello
 \end{commandline}
 \end{itemize}
\end{frame}

\begin{frame}{cron-apt}
 \begin{itemize}%[<+->]
 \item apt を cronで動作させるためのツール

	わざわざ cron で書かなくてもよい

 \item apticron

	aptitude の cron-apt 版ではなく、セキュリティアップデート情報
	をメールで送信してくれるツール。名前にだまされるな。
	
 \end{itemize}
\end{frame}

\begin{frame}{apt-proxy / apt-cacher}
 \begin{itemize}%[<+->]
 \item Debian パッケージのキャッシングプロキシを構築するパッケージ
 \begin{figure}[h]
使用しない場合

 \begin{center}
 \includegraphics[width=10cm]{image200709/apt-proxy.png}
 \end{center}
 \end{figure}
 \end{itemize}
\end{frame}

\begin{frame}{apt-proxy / apt-cacher}
 \begin{figure}[h]
使用した場合
 \begin{center}
 \includegraphics[width=7cm]{image200709/apt-proxy-e.png}
 \end{center}
 \end{figure}
\end{frame}


\begin{frame}[containsverbatim]{apt-ftparchive}
 \begin{itemize}%[<+->]
 \item Packages.gz などのパッケージ情報用ファイルを作成するためのツール
 
 自分で作ったパッケージを apt-line として公開したい場合などに使用する。
\begin{commandline}
  % apt-ftparchive packages . | gzip -9 > Packages.gz 
  % apt-ftparchive sources . | gzip -9 > Sources.gz
  % apt-ftparchive release . > Release 
\end{commandline}
\end{itemize}
\end{frame}

\begin{frame}[containsverbatim]{apt-sortpkgs}
 \begin{itemize}%[<+->]
 \item Packages.gz および Sources.gz ファイルをソートする

   apt-ftparchive で作成したファイルはソートされていない場合がある。
   apt-sortokgs を使い、アルファベット順にソートする。
   
\begin{commandline}
 % apt-sortpkgs Packages > Packages.sort
\end{commandline} 
  \end{itemize}
\end{frame}

\begin{frame}[containsverbatim]{apt-extracttemplates}
 \begin{itemize}%[<+->]
 \item Debian パッケージから debconf の設定とテンプレート情報を抽出する

\begin{commandline}
 % wget http://http.us.debian.org/debian/pool/main/x/xorg/ \
xserver-xorg_7.3~rc1_all.deb
 % apt-extracttemplates xserver-xorg_7.3~rc1_all.deb
 % ls
 xserver-xorg.config.34261
 xserver-xorg.template.34260
\end{commandline}
 \end{itemize}
\end{frame}

\begin{frame}[containsverbatim]{apt-build}
 \begin{itemize}
  \item apt-get 感覚でパッケージをビルドできるツール
  
  \item apt-build を使用せず、Debian パッケージをリビルドする場合
   \begin{commandline}
 % apt-get update
 % apt-get source hello
 % cd hello-x.x
 % debuild -us -uc
 % sudo dpkg-i ../hello_xxxx.deb
   \end{commandline}
 \end{itemize}
\end{frame}

\begin{frame}[containsverbatim]{apt-build}
 \begin{itemize}%[<+->]
  \item apt-build を使用した場合
   \begin{commandline}
 % sudo apt-get build-source hello
   \end{commandline}
 
 \item apt-build の設定ファイル
  \begin{commandline}
 /etc/apt/apt-build.conf
  \end{commandline}
 \end{itemize}
\end{frame}

\begin{frame}{apt-cross}
 \begin{itemize}%[<+->]
 \item クロスコンパイル用 apt 

 Debian package を apt を使い、クロスコンパイル用パッケージに変換してインストールする。

 \end{itemize}
\end{frame}


\begin{frame}{apt-cross}
 \begin{figure}[h]
apt-cross を使用しない場合
 \begin{center}
 \includegraphics[width=3cm]{image200709/apt-cross.png}
 \end{center}
 \end{figure}
\end{frame}


\begin{frame}{apt-cross}
 \begin{figure}[h]
apt-cross を使用した場合
 \begin{center}
 \includegraphics[width=3cm]{image200709/apt-cross-e.png}
 \end{center}
 \end{figure}

\end{frame}


\begin{frame}{apt-transport-https}
 \begin{itemize}%[<+->]
 \item https 経由で apt-get を行うためのツール

 apt-get はftp/http で行うが、このパッケージを使うことによって
 https 経由で apt を行うことができるようになる。
 \end{itemize}
\end{frame}

\begin{frame}{apt-zip}
 \begin{itemize}%[<+->]
 \item リムーバブルメディアの ZIP からの apt をサポートするためのツール
 \begin{figure}[h]
 \begin{center}
 \includegraphics[width=3cm]{image200709/zip_750usb.jpg}
 \end{center}
 \end{figure}

 同じようなツールで apt-cdrom がありますが、違いがいまいちわかりません。
 \end{itemize}
\end{frame}

\begin{frame}[containsverbatim]{aptsh}
 \begin{itemize}%[<+->]
 \item apt の操作をができる Shell.
 \item 使い方
\begin{commandline}
% sudo aptsh
Generating and mapping caches...
Reading commands history...
aptsh>
\end{commandline} 
 
\end{itemize}
\end{frame}

\begin{frame}[containsverbatim]{aptsh}
例えば
\begin{commandline}
% ls
glibc-cross-sh4
snort-rules-default
python-tclink
pipenightdreams
osgcal-doc
mpg123-alsa
...
diatheke
darkice
cyrus-admin-2.2
aspell-bg
libungif4g
libsmpeg0
\end{commandline}
 を実行すると、インストール可能なパッケージ一覧が表示されます。
\end{frame}
 
\begin{frame}{まとめ}

今回はさわりだけを説明しました。今回の紹介で気になるapt-xxx がありましたら
詳細を説明していきたいと思っています。

\end{frame}

\section{Exim 再発見}
\emtext{Exim 再発見}

\section{事前課題紹介}
\emtext{事前課題の紹介}
% pre work home work

\begin{frame}{事前課題問題}
「ここ最近 Debian を使っていて ハマったこと/ちょっと感激したこと」もしく
は「apt の sources.list はこう書く」
というタイトルで200-800文字程度の文章を書いてください。
\end{frame}

% (query-replace "\\subsection" "\\end{frame}\\begin{frame}")
% (query-replace "\\subsubsection" "\\textbf")

\section{サマリー}

\begin{frame}{サマリー}

\end{frame}

\section{最近のイベント}
\begin{frame}{最近のイベント}
\begin{itemize}
 \item 10月5-6日 OSC Tokyo/Fall 兼 Debian勉強会
\end{itemize}
\end{frame}

\end{document}
