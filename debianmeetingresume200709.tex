%; whizzy chapter
% -initex iniptex -latex platex -format platex -bibtex jbibtex -fmt fmt
% 以上 whizzytex を使用する場合の設定。

%     Tokyo Debian Meeting resources
%     Copyright (C) 2007 Junichi Uekawa

%     This program is free software; you can redistribute it and/or modify
%     it under the terms of the GNU General Public License as published by
%     the Free Software Foundation; either version 2 of the License, or
%     (at your option) any later version.

%     This program is distributed in the hope that it will be useful,
%     but WITHOUT ANY WARRANTY; without even the implied warranty of
%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%     GNU General Public License for more details.

%     You should have received a copy of the GNU General Public License
%     along with this program; if not, write to the Free Software
%     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA

%  preview (shell-command (concat "evince " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
% 画像ファイルを処理するためにはebbを利用してboundingboxを作成。
%(shell-command "cd image200708; ebb *.png")

%%ここからヘッダ開始。

\documentclass[mingoth,a4paper]{jsarticle}
\usepackage{monthlyreport}

% 日付を定義する、毎月変わります。
\newcommand{\debmtgyear}{2007}
\newcommand{\debmtgdate}{15}
\newcommand{\debmtgmonth}{9}
\newcommand{\debmtgnumber}{32}


\begin{document}

\begin{titlepage}

% 毎月変更する部分, 本文の末尾も修正することをわすれずに

 第\debmtgnumber{}回 東京エリア Debian 勉強会資料

\vspace{2cm}

\begin{minipage}[t]{0.6\hsize}
\vspace{-2cm}
{\fontsize{60}{60}
{\gt
\color{dancerdarkblue}
東京エリア \\
デビアン \\
勉強会
}}
\end{minipage}
\begin{minipage}[b]{0.4\hsize}
\hspace{-1cm}\includegraphics[width=9cm]{image200502/openlogo-nd.eps}
\end{minipage}

\vspace{3cm}
\hfill{}Debian勉強会幹事 上川 純一\\
\hfill{}\debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日

\thispagestyle{empty}
\end{titlepage}

\dancersection{Introduction}{上川 純一}


今月のDebian勉強会へようこそ。
 これからDebianのあやしい世界に入るという方も、すでにどっぷりとつかってい
 るという方も、月に一回Debianについて語りませんか？

 目的として次の二つを考えています。

 \begin{itemize}
 \item メールではよみとれない、もしくはよみとってられないような情報につ
       いて情報共有する場をつくる
 \item Debianを利用する際の情報をまとめて、ある程度の塊として整理するた
       めの場をつくる
 \end{itemize}

 Debianの勉強会ということで究極的には参加者全員がDebian Packageをがりがり
 と作るスーパーハッカーになった姿を妄想しています。

 Debianをこれからどうするという能動的な展開への土台としての空間を提供し、
 情報の共有をしたい、というのが目的です。


\newpage

\begin{minipage}[b]{0.2\hsize}
 \colorbox{dancerlightblue}{\rotatebox{90}{\fontsize{80}{80} 
{\gt \color{dancerdarkblue}デビアン勉強会}}}
\end{minipage}
\begin{minipage}[b]{0.8\hsize}
\hrule
\vspace{2mm}
\hrule
\setcounter{tocdepth}{1}
\tableofcontents
\vspace{2mm}
\hrule
\end{minipage}

\dancersection{事前課題}{上川 純一}

今回の事前課題は
「XXX」
というタイトルで200-800文字程度の文章を書いてください。というものでした。
その課題に対して下記の内容を提出いただきました。

\subsection{XXX}

%%% trivia quiz
\dancersection{Debian Trivia Quiz}{岩松 信洋}

ところで、みなさん Debian 関連の話題においついていますか？Debian関連の話
題はメーリングリストをよんでいると追跡できます。ただよんでいるだけではは
りあいがないので、理解度のテストをします。

今回の出題範囲は\url{debian-devel@lists.deban.org} に投稿された内容からです。

\subsection{問題}

\santaku
{Albert Einstein が作った Debian ベースのディストリビューションは何か}
{ice linux}
{fantasy linux}
{fire linux}
{A}

{そしてこのAlbert Einstein が debian-devel で質問した内容は何でしょう}
{なぜ Internet Explorer が Debian にないのですか。}
{なぜ Opera が Debian にないのですか。}
{なぜ Safari が Debian にないのですか。}
{A}

\santaku
{Luk Claes が RCバグについて提案したのはどのような内容か}
{RCバグが出たパッケージのメンテナへのペナルティを考える提案}
{RCバグの 0-day NMU についての提案}
{RCバグをいかにして無視するか、という HowTo.}
{B}

\santaku
{packages.debian.orgにいろいろ新機能が追加されました。どのような機能が追加されましたか}
{メールフォワード機能}
{カルマ付加機能}
{Webからパッケージ乗っ取り機能}
{A}

\dancersection{最近のDebian関連のミーティング報告}{上川 岩松}


\subsection{東京エリアDebian勉強会31回目報告}
% (query-replace-regexp "<.*?>" "")
% (query-replace-regexp "^[ 	]*" "")

東京エリアDebian勉強会参加報告。8月の第31回東京エリアDebian勉強会を実施し
ました。

 今回の参加者は 小室文さん、根岸心さん、後藤正徳さん、前田耕平さん、やまねひできさん、
濱野さん、たかやさん、 すずきくにおさん、荒木（靖）さん、森田さん、林淳哉さん、荒木淳さん、
さとうのりあきさん、岩崎修さん、奥野由紀さん、 北原さん、uchiyama toru さん、碇永志さん、 
岩松さん、あけどさん、野首さん、David Smithさん、小林さん、でんさん、上川の25人でした。

まず、クイズを今回も実施しました。 今回はDWNが出ていないので、
debian-devel-announce の内容から出題しました。 
最後までのこった４人に豪華景品が渡されました。

最近のイベントの報告として、 OSC-Kansai について たかやさんが報告しました。 
関西の勢いというものをみんなで感じたのではないでしょうか？

\url{cdn.debian.or.jp} について荒木さんが発表しました。 
\url{cdn.debian.or.jp} をしっている人はおおかったようですが、
仕組みについてはよくしらない人が ほとんどだったので、おもしろかったとおもいます。
意外とシンプルですね。荒木さん的には debtorrent,apt-torrentが気になるようです。 

最後に事前課題の紹介をしました。
はまった話、多かったです。

最後に 上川さんが Debian GNU/kFreeBSD で ruby のアプリケーション apt-listbugs
が正常に動かないというバグ報告を受けたため Debian GNU/kFreeBSD をインス
トールしてみました、という報告をしました。

今回の宴会は  はなの舞 荻窪西口店 にて開催、終電までみんなで宴会しました。

\dancersection{Exim 再発見}{小室 文}
\label{debianexim}
\index{exim}

\dancersection{あなたの知らないかもしれない apt-xxx}{岩松 信洋}
\label{aptxxx}
\index{apt-xxx}
\subsection{はじめに}
Debian ユーザーは apt がないと生きていけません。
apt-get はみんなが知っているコマンドですが、aptにはいろいろなコマンドが存在します。
今回はあまり知られていない apt-xxx について調べてみました。

\subsection{レベル 小}
勝手にレベルをつけていますが、レベル小 は一般ユーザの方なら知っておいて損はない
というものです。Debian 上での生活を楽にしてくれるかもしれません。

%\subsubsection{apt-howto}
% apt の使い方をまとめた Debian package です。
% 日本語向けのパッケージ apt-howto-ja もあります。

\subsubsection{apt-key}
 apt の GPG鍵リングを制御するフロントエンドです。
 2006年から secure apt が導入された。secure apt は Debian アーカイブの信頼性を
 上げるため導入されたのですが、これには GPG が使われており、一般ユーザーにはちょっと
 難しいかもしれません。しかし、secure apt の GPG のキーは毎年変更されるので、今後使う
 ことがあるかもしれません。
 また、GUI で操作したい人のために 
 gui-apt-key\footnote{http://packages.debian.org/unstable/admin/gui-apt-key} 
 パッケージがあります。
 
\subsubsection{apt-spy}
 ネットワークの情報から最適な apt-line を生成することができるツールです。
 いまは cdn.debian.or.jp があるのでどうでもいいかんじです。

\subsubsection{auto-apt}
 auto-apt は世間では検索用のツールになっています。
 \footnote{ファイル検索用として apt-file というコマンドがあります。}
 \begin{commandline}
 % auto-apt upate
 % auto-apt search stdio.h
 usr/include/stlport/stdio.h     libdevel/libstlport5.1-dev
 usr/include/fcgi_stdio.h        libdevel/libfcgi-dev
 usr/include/H5FDstdio.h libdevel/libhdf5-lam-dev,libdevel/libhdf5-mpich-dev,libdevel/libhdf5-serial-dev
 usr/include/stdio.h     libdevel/libc6-dev
 \end{commandline}
 しかし、auto-apt は コマンド実行時に足りないパッケージをインストールしてくれるツールだったりします。
 \begin{commandline}
 # auto-apt run apt-get source hello
 \end{commandline}
 しかし、ちゃんと動いてくれませんでした。

\subsubsection{cron-apt}
 apt-get updte / apt-get uprade を cron で書いているひとをたまに見かけますが、
 cron-apt を使えば、ログに apt の結果をながした|じょうかい設定が可能になります。
 似たような名前で apticron\footnote{http://packages.debian.org/unstable/admin/apticron}
 というパッケージがありますが、これはaptitude の cron-apt 版ではなく 
 セキュリティアップデート情報をメールで送信してくれるツールです。

\subsubsection{apt-proxy / apt-cacher}
 Debian パッケージのキャッシングプロキシを構築するパッケージです。
 例えば、家の中でマシンが数台あり、すべて sid だったとしましょう。特に設定を行ってない場合、
 各マシンはapt-get 毎に ミラーサーバーから Debian パッケージを取得します。
 これは無駄なので、1台だけ Debian パッケージをミラーサーバーから取得し、キャッシュし、他の
 マシンは対象のキャッシュしているパッケージを使ってアップデート乎行うようにします。
 これを実現するためのパッケージが apt-proxy / apt-cacher です。

%-------------------------
\subsection{レベル 中}
 一般ユーザーは知っていてもあまり役に立たないと思われる apt-xxx。
\subsubsection{apt-ftparchive}
 Sources.gz / Packages.gz などのパッケージ情報用ファイルを作成するためのツール。
 自分で作ったパッケージを apt-line として公開したいときに使います。
\begin{commandline}
  % apt-ftparchive packages . | gzip -9 > Packages.gz 
  % apt-ftparchive sources . | gzip -9 > Sources.gz
  % apt-ftparchive release . > Release 
\end{commandline}

\subsubsection{apt-sortpkgs}
 Packages ファイル および Sources ファイルをソートします。apt-ftparchive で作成したものはソート
 されていなかったりするので、アルファベット順にソートするときに使います。
\begin{commandline}
 % apt-sortpkgs Packages > Packages.sort
\end{commandline} 

\subsubsection{apt-extracttemplates}
 Debian パッケージから設定とテンプレート情報を抽出するためのツールです。

\begin{commandline}
 % wget http://http.us.debian.org/debian/pool/main/x/xorg/xserver-xorg_7.3~rc1_all.deb
 % apt-extracttemplates xserver-xorg_7.3~rc1_all.deb
 % ls -l
 -rw------- 1 iwamatsu iwamatsu       0 2007-09-01 21:57 xserver-xorg.config.34261
 -rw------- 1 iwamatsu iwamatsu 1040239 2007-09-01 21:57 xserver-xorg.template.34260
\end{commandline}

\subsubsection{apt-build}
 Debian で提供されているバイナリパッケージはあまり最適化されていません。
 人によっては自分の環境に合わせてチューニングしたり、製品に組み込んだりする場合もあります。
 apt-build は apt-get する感覚で環境に合わせてバイナリを作成をサポートするツールです。
 Debian パッケージをリビルドする場合は
 \begin{commandline}
 % apt-get update
 % apt-get source hello
 % cd hello-x.x
 % debuild -us -uc
 % sudo dpkg-i ../hello_xxxx.deb
 \end{commandline}
 という手順を踏みますが、apt-build の場合は
 \begin{commandline}
 % apt-get update
 % apt-build install hello
 \end{commandline}
 だけです。apt-build の設定ファイルは
 \begin{commandline}
 /etc/apt/apt-build.conf
 \end{commandline}
 にあり、
 \begin{commandline}
build-dir = /var/cache/apt-build/build
repository-dir = /var/cache/apt-build/repository
Olevel = -O3
march = -march=pentium2
mcpu = -mcpu=pentium2
options =
 \end{commandline}
 という設定になっています。例えば、自分の使っているマシンが i686 ではなく、Crusoe
 の場合には
\begin{commandline}
Olevel = 
-O2 -fomit-frame-pointer -fno-strict-aliasing -fno-common \ 
-pipe +-mpreferred-stack-boundary=2 -march=i686 -malign-functions=0 \
-malign-jumps=0 -malign-loops=0
\end{commandline}
とすればよいでしょう。

\subsubsection{apt-cross}
 Debian package を cross環境で使用できるように変換してインストールしてます。
 いままでは ダウンロードした Debian package を dpkg-cross で変換して
 インストールしていましたが、apt-cross を使うことのよって、手作業が減らすことが
 できます。
\subsubsection{apt-transport-https}
 apt はftp/http で取得できるのですが、このパッケージを使うことによって
 https 経由で apt を行うことができるようになります。
%------------------------- 
\subsection{レベル 高}
 知っていても使わないだろうと思われる apt-xxx.
 話のネタにはなるかもしれない。
\subsubsection{apt-zip}
 リムーバブルメディアの ZIP からの apt をサポートするためのツールです。
 同じようなツールで apt-cdrom がありますが、違いがいまいちわかりません。

\subsubsection{aptsh}
 apt の操作をができる Shell.
\begin{commandline}
 % sudo aptsh
\end{commandline} 
 で shellが aptsh になります。試しに、
\begin{commandline}
 % ls
\end{commandline}
 を実行すると、インストール可能なパッケージ一覧が表示されます。
 
\subsection{まとめ}
今回はさわりだけを説明しました。今回の紹介で気になるapt-xxx がありましたら
詳細を説明していきたいと思っています。

%apt-mirror
%apt-move
%
%apt-watch
%apt-watch-backend
%apt-watch-gnome
%apt-watch-interface

\dancersection{コミックマーケット72の報告}{岩松 信洋}
\label{komike72}
\index{komike72}

東京エリアDebian勉強会および関西エリアDebian勉強会で
作成した資料を本にし、コミックマーケット72で販売をしました。
以下に報告します。

\subsection{イベントについて}
\begin{itemize}
 \item イベント名

	コミックマーケット72
 \item 開催日時

	2007年08月17日から08月19日
 \item 場所

	東京ビックサイト

 \item 出展

	行いませんでした。
 \item 委託先

	美紗緒ネットワークさん \url{http://www.misao.gr.jp/}

	ありがとうございました。
\end{itemize}
\subsection{本の内容}
第23回から第28回までの東京エリア Debian 勉強会資料および一部の関西 Debian 勉強会資料
をまとめ、表紙、奥付を含めて84ページの本を60冊作成しました。

\subsection{印刷代}
\begin{table}
\begin{center}

\begin{tabular}{|c|c|}
\hline
内容 & 金額\\
\hline
表紙代 & 456円\\
\hline
中とじ製本代 & 9000円 \\
\hline
コピー代 & 15840円 \\
\hline
宅配便 & 1500円 \\
\hline
出力手数料 & 600円 \\
\hline\hline
小計 & 27396円 \\
\hline\hline
消費税 & 1369円 \\
\hline\hline
合計 & 28765円 \\
\hline
\end{tabular}
\end{center}
\end{table}

\subsection{販売結果}

\begin{itemize}
	\item 販売金額 

		800円

	\item 販売部数
 
		49部（1冊はサンプルとして提出。）

	\item 売上げ
 
		39200円( 800円*49部 )
\end{itemize}

\subsection{残り}
残りの10冊は関西Debian勉強会用として取りおきしています。

KOF \url{http://k-of.jp/2007/kof.html} や、関西でのイベントなどで
たかやさんに販売して頂くことになっています、

\subsection{次回のコミケ}
コミックマーケット73 が今年の12月29日から31日に開催されます。
次回もどこかに委託していただく予定です。
来年の夏はブースを取って参加したいと考えています。
だれかやる人いませんか？


\dancersection{今後の予定}{岩松 信洋}

\subsection{OSC Tokyo/Fall}
10月5日・6日に開催されます。Debian JP Project も「東京エリアDebian勉強会」として
参加します。OSCでは武藤さんがDebianでの印刷関係についてお話してくれる予定です。
また、10月の勉強会はOSCをもって替えさせていただきます。

%\printindex

\cleartooddpage

\begin{minipage}[b]{0.2\hsize}
 \colorbox{dancerlightblue}{\rotatebox{90}{\fontsize{80}{80} {\gt デビアン勉強会} }}
\end{minipage}
\begin{minipage}[b]{0.8\hsize}

\vspace*{15cm}
{\color{dancerlightblue}\rule{\hsize}{1mm}}
\vspace{2mm}
\includegraphics[width=2cm]{image200502/openlogo-nd.eps}
\noindent \Large \bf Debian 勉強会資料\\ \\
\noindent \normalfont \debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日 \hspace{5mm}  初版第1刷発行\\
\noindent \normalfont 東京エリア Debian 勉強会 （編集・印刷・発行）\\
{\color{dancerdarkblue}\rule{\hsize}{1mm}}
\end{minipage}

\end{document}
