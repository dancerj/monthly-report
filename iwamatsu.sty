\usepackage{alltt}
\usepackage{ascmac}%   screen

\newcommand{\commandannotate}[2][4]{%
  \raisebox{0.33ex}{%
    \smash{%
      \ovalbox{%
        {\scriptsize\rule{0pt}{0.75ex}}%
        \smash{%
          \raisebox{-0.25ex}{%
            \scriptsize{}%
            \ifcase#1%           0   
            \or $\uparrow{}$%    1   
            \or $\rightarrow{}$% 2
            \or $\downarrow{}$%  3
            \or $\leftarrow{}$%  4
            \else%               5-9 
            \fi%
            {#2}%
          }%  
        }%  
      }%  
    }%  
  }%  
}

\newenvironment{terminalx}{%
  \begin{trivlist}\item\begin{screen}%
    \begin{alltt}\renewcommand{\baselinestretch}{0.8}%
      \begin{tiny}%
}{%
      \end{tiny}%
    \end{alltt}%
  \end{screen}\end{trivlist}%
}

\newenvironment{terminal}{%
  \begin{trivlist}\item\begin{screen}%
    \begin{alltt}\renewcommand{\baselinestretch}{0.8}%
      \begin{small}%
}{%
      \end{small}%
    \end{alltt}%
  \end{screen}\end{trivlist}%
}

