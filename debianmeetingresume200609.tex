%; whizzy chapter
% -initex iniptex -latex platex -format platex -bibtex jbibtex -fmt fmt
% 以上 whizzytex を使用する場合の設定。

% This document is distributed under the terms of GPL version 2 or
%later.
% Copyright 2006 Junichi Uekawa and others

%   Pdf作成手順
% dvipdfmx debianmeetingresume200609.dvi
%  preview (shell-command (concat "xpdf " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
% 画像ファイルを処理するためにはebbを利用してboundingboxを作成。
%(shell-command "cd image200609; ebb *.png")

%%ここからヘッダ開始。

\documentclass[mingoth,a4paper]{jsarticle}
\usepackage[dvipdfm]{graphicx}
\usepackage{fancybox}
\usepackage{longtable}
\usepackage{ascmac}	% 囲み (screen,itembox)
\usepackage{fancyvrb}   % 囲み Verbatim のために必要
\usepackage[dvipdfm]{hyperref}
\usepackage{url}
\usepackage[dvipdfm]{color}

%http://www.naney.org/diki/dk/hyperref.html
%日本語EUC系環境の時
\AtBeginDvi{\special{pdf:tounicode EUC-UCS2}}
%シフトJIS系環境の時
%\AtBeginDvi{\special{pdf:tounicode 90ms-RKSJ-UCS2}}

%% spacing の設定をする。外枠を減らす。
\setlength\headheight{0mm}
\setlength\topmargin{-20mm}
\setlength\headsep{0mm}
\setlength\topskip{3mm}
\setlength\maxdepth{4pt}
\setlength\columnsep{6mm}
\setlength\textheight{252mm}
\setlength\topmargin{-5mm}
\setlength\textwidth{170mm}
\setlength\oddsidemargin{-5mm}
\setlength\evensidemargin{-5mm}

% commandline環境を定義。画面入出力についてはcommandline環境
% で表記する
\newenvironment{commandline}%
{\VerbatimEnvironment
  \begin{Sbox}\begin{minipage}{15cm}\begin{fontsize}{7.3}{7.3} \begin{BVerbatim}}%
{\end{BVerbatim}\end{fontsize}\end{minipage}\end{Sbox}
  \setlength{\fboxsep}{8pt}\fbox{\TheSbox}}


%%% start of santaku
\makeatletter
\newwrite\tf@jqz
\immediate\openout\tf@jqz\jobname.jqz\relax
\makeatother
\newcounter{santakucounter}
\newcommand{\santaku}[5]{%
\addtocounter{santakucounter}{1}

\addtocontents{jqz}{\arabic{santakucounter}. #5\\}
\begin{minipage}{1\hsize}
問題\arabic{santakucounter}. 
#1\\
□ A #2\\
□ B #3\\
□ C #4
\end{minipage}
\hspace{1cm}
\\

}
%%% end of santaku

\newcommand{\emptyspace}{(\underline{\hspace{1cm}})}

\newcommand{\subsubsubsection}[1]{%
\vspace{1zw}{\bf #1}\\}


% sectionをセンタリングする
\makeatletter
  \renewcommand{\section}{\@startsection{section}{1}{\z@}%
    {\Cvs \@plus.5\Cdp \@minus.2\Cdp}% 前アキ
    {.5\Cvs \@plus.3\Cdp}% 後アキ
    {\normalfont\Huge\headfont\raggedright\centering}} % style
\makeatother

% section の代わりの環境
\newcommand{\dancersection}[2]{%
\newpage
東京エリアDebian勉強会 2006
\hrule
\vspace{0.5mm}
\hrule
%\hfill{}\includegraphics[width=3cm]{image200502/openlogo-nd.eps}\\
\hfill{}\includegraphics[width=16cm]{image2006-natsu/guruguru-sand-light.png}\\
\vspace{-5cm}
\begin{center}
\section{#1}
\end{center}
\hfill{}\colorbox{white}{#2}\hspace{3cm}\space\\
\vspace{1cm}
\hrule
\vspace{0.5mm}
\hrule
\vspace{1cm}
}

% BTSの番号を見るためのコマンド
\newcommand{\debianbug}[1]{#1\footnote{\url{http://bugs.debian.org/#1}}}

% for dancerj
\newcommand{\fgref}[1]{図\ref{#1}}
\newcommand{\tbref}[1]{表\ref{#1}}


\begin{document}

\begin{titlepage}

% 毎月変更する部分, 本文の末尾も修正することをわすれずに
\title{\includegraphics[width=7cm]{image200502/openlogo-nd.eps}\\
 第20回 東京エリア Debian 勉強会\\事前資料}
\date{2006年9月16日}
\author{Debian勉強会会場係 上川純一\thanks{Debian Project Official Developer}} 
\maketitle
\thispagestyle{empty}
\end{titlepage}

\newpage
\tableofcontents

\dancersection{Introduction To Debian 勉強会}{上川純一}

今月のDebian勉強会へようこそ。
これからDebianのあやしい世界に入るという方も、すでにどっぷりとつかってい
るという方も、月に一回Debianについて語りませんか？

目的として下記の二つを考えています。

\begin{itemize}
 \item メールではよみとれない、もしくはよみとってられないような情報を情
       報共有する場をつくる
 \item まとまっていないDebianを利用する際の情報をまとめて、ある程度の塊と
       して出してみる
\end{itemize}

また、東京にはLinuxの勉強会はたくさんありますので、Debianに限定した勉強
会にします。Linuxの基本的な利用方法などが知りたい方は、他でがんばってくださ
い。
Debianの勉強会ということで究極的には参加者全員がDebian Packageを
がりがりと作りながらスーパーハッカーになれるような姿を妄想しています。

Debianをこれからどうするという能動的な展開への土台としての空間を提供し、
情報の共有をしたい、というのが目的です。
次回は違うこと言ってるかもしれませんが、御容赦を。

\subsection{講師紹介}

\begin{itemize}
 \item{上川純一} 宴会の幹事です。
\end{itemize}

\subsection{事前課題紹介}

今回の事前課題は
「XXX」
というタイトルで200-800文字程度の文章を書いてください。
というものでした。
その課題に対して下記の内容を提出いただきました。

\subsubsection{}

\subsubsection{上川}


%%% trivia quiz
\dancersection{Debian Weekly News trivia quiz}{上川純一}

ところで、Debian Weekly News (DWN)は読んでいますか？
Debian 界隈でおきていることについて書いているDebian Weekly News.
毎回読んでいるといろいろと分かって来ますが、一人で読んでいても、解説が少
ないので、
意味がわからないところもあるかも知れません。みんなでDWNを読んでみましょう。

漫然と読むだけではおもしろくないので、DWNの記事から出題した以下の質問にこたえてみてください。
後で内容は解説します。

\subsection{2006年XX号}
\url{http://www.debian.org/News/weekly/2006/XX/}
にある5月XX日版です。

\santaku
{}
{}
{}
{}
{}


\santaku
{}
{}
{}
{}
{}

\santaku
{}
{}
{}
{}
{}

\santaku
{}
{}
{}
{}
{}

\dancersection{最近のDebian関連のミーティング報告}{上川純一}

\subsection{東京エリアDebian勉強会19回目報告}
% (query-replace-regexp "<.*>" "")

\dancersection{翻訳へのさそい}{えとーさん}
\label{sec:etohonnyaku}

\subsection{po 関連}

現状のMLについてのWebは、
\url{http://www.debian.or.jp/MailingList.html}
です。

この中で翻訳関連を行なっているのは
Debian JP Documentation メーリングリストです。

\url{debian-doc-ctl@debian.or.jp} に fml の方式でsubscribeしてください。
過去記事は
\url{http://lists.debian.or.jp/debian-doc/}
にアクセスすると見ることができますので、ご参考にどうぞ。
こちらは、 man 、debconf-po、po、および 付属ドキュメントなどの
翻訳を行なっています。

Debianのpoの各国のランキングです。
\url{http://www.debian.org/international/l10n/po/rank}

Debianのdebconf-poの各国のランキングです。
\url{http://www.debian.org/international/l10n/po-debconf/rank}

ちなみにdebconf-poについての国内での作業は作業がかぶらないように
\url{http://kmuto.jp/debian/po-trans/}
を使いながらやるとよいかと思われます。

\subsection{Debian JP WWW メーリングリスト}

debian-www-ctl@debian.or.jp に fml の方式でsubscribeしてください。
過去記事は
\url{http://lists.debian.or.jp/debian-www/}
にアクセスすると見ることができますので、ご参考にどうぞ。

こちらは、主にdebian.orgのwebサイトの翻訳および、debian.or.jpの
webサイトについて活動しています。

以下私見ですなにかの参考になりましたら。
偉そうかもしれませんが、ご容赦を、、、

おそらくは、debian-doc などで活動を行なうと ubuntu のほうにも当然のよう
に波及しますので、こちらの作業を行なうのもよいかなと思いました。

ddtp というプロジェクトで以前パッケージディスクリプション部分(本日もう昨
日か、、見せていただいたアプリケーション一覧の説明部分とか？）を翻訳して
いるプロジェクトがありましたが、一旦停止しています。近々復帰しそうですの
で、DWN（Debian Weekly News)などを注視していただくとそのうちなんか出てく
るかもです。

Debianプロジェクトはあなたの参加を心待ちにしております。でわでわ


\subsection{参考文献}


\begin{itemize}
 \item ドキュメント翻訳手順 \url{http://kmuto.jp/d/index.cgi/debian/debian-doc-procedure.htm}
\end{itemize}


\dancersection{apt/dpkgのプロファイリング}{上川}
\label{sec:dancerjapt}

aptやdpkgのどの部分が一番遅いのか、実際にプロファイリングしてみます。
この例をケーススタディーとして一般的にどういう作業をすればパフォーマンス
チューニングができるのか、をあきらかにしてみましょう。

\subsection{oprofie のインストールと設定方法}

Debianのデフォルトのカーネルはoprofileをサポートしています
\footnote{i386, amd64　などのアーキテクチャ以外での利用は現時点では難し
い可能性があるので確認してください。} 。もし、自分でコンパイルしていたり
して oprofile サポートを追加していない場合は、カーネルを oprofile サポー
ト付きでコンパイルしなおします。オプションは \texttt{CONFIG\_OPROFILE}
です。メニューでは

\texttt{Intrumentation support : Profiling Support :
Oprofile system profiling (experimental)}\footnote{2.6.18-rc1 現在}

にあります。

カーネルがサポートしている場合、oprofileを利用するのに追加で必要なのは
\texttt{oprofile}パッケージです。
\texttt{apt-get install oprofile}でインストールしましょう。

\subsection{dpkg と apt をコンパイルしなおす}

dpkg と apt のプロファイル出力はデフォルトではデバッグ情報がたりないため、
デバッグシンボルを追加してコンパイルしなおします。

debuild -e DEB\_BUILD\_OPTIONS=debug

\subsection{テストケースの作成}

テストケースを作成します。今回はchroot　内部で大量の apt-get update,
apt-get install と apt-get remove をループで実行してベンチマークをとって
みましょう。

\subsection{最適化の必要な部分の解析}

プロファイル結果を利用して、解析します。

\subsection{最適化例}

今回の結果で適用できる最適化を分析します。

\subsection{結果の検証}

さきほどのベンチマークを利用して、状況が改善していることを確認します。

\subsection{回帰テストの貢献}

できるようであれば、今回の修正が二度と必要ないように、パフォーマンスのデ
グレードがすぐに検出しやすいよう、再現しやすいテストケースを追加してみる
のもよいでしょう。

\subsection{修正をフィードバック}

パフォーマンスの改善のための修正をフィードバックします。
Debian の場合、BTSにパッチを登録します。
該当するバグ番号は下記です。

\begin{itemize}
 \item XXX
 \item YYY
\end{itemize}

\dancersection{次回}{}

未定です。
内容は本日決定予定です。

参加者募集はまた後程。

\newpage

\vspace*{15cm}
\hrule
\vspace{2mm}
\includegraphics[width=2cm]{image200502/openlogo-nd.eps}
\noindent \Large \bf Debian 勉強会資料\\ \\
\noindent \normalfont 2006年9月16日 \hspace{5mm}  初版第1刷発行\\
\noindent \normalfont 東京エリア Debian 勉強会 （編集・印刷・発行）\\
\hrule

\end{document}
