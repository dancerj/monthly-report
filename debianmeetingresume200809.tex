%; whizzy chapter
% -initex iniptex -latex platex -format platex -bibtex jbibtex -fmt fmt
% 以上 whizzytex を使用する場合の設定。


%     Tokyo Debian Meeting resources
%     Copyright (C) 2008 Junichi Uekawa
%     Copyright (C) 2008 Nobuhiro Iwamatsu

%     This program is free software; you can redistribute it and/or modify
%     it under the terms of the GNU General Public License as published by
%     the Free Software Foundation; either version 2 of the License, or
%     (at your option) any later version.

%     This program is distributed in the hope that it will be useful,
%     but WITHOUT ANY WARRANTY; without even the implied warranty of
%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%     GNU General Public License for more details.

%     You should have received a copy of the GNU General Public License
%     along with this program; if not, write to the Free Software
%     Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA

%  preview (shell-command (concat "evince " (replace-regexp-in-string "tex$" "pdf"(buffer-file-name)) "&"))
% 画像ファイルを処理するためにはebbを利用してboundingboxを作成。
%(shell-command "cd image200804; ebb *.png")

%%ここからヘッダ開始。

\documentclass[mingoth,a4paper]{jsarticle}
\usepackage{monthlyreport}
\usepackage[dvips]{xy}

% 日付を定義する、毎月変わります。
\newcommand{\debmtgyear}{2008}
\newcommand{\debmtgmonth}{9}
\newcommand{\debmtgdate}{20}
\newcommand{\debmtgnumber}{44}

\begin{document}

\begin{titlepage}
\thispagestyle{empty}

% タイトルページ:編集必要な部分は最初のマクロに飛ばすこと

\vspace*{-2cm}
第\debmtgnumber{}回 東京エリア Debian 勉強会資料

\hspace*{-2.4cm}
\includegraphics[width=210mm]{image200801/2008title.eps}\\
\hfill{}\debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日

\end{titlepage}

\dancersection{Introduction}{上川 純一}
 
 今月のDebian勉強会へようこそ。これからDebianの世界にあしを踏み入れると
 いう方も、すでにどっぷりとつかっているという方も、月に一回Debianについ
 て語りませんか？

 Debian勉強会の目的は下記です。

\begin{itemize}
 \item \underline{Debian Developer} (開発者)の育成。
 \item 日本語での「\underline{開発に関する情報}」を整理してまとめ、アップデートする。
 \item \underline{場}の提供。
 \begin{itemize}
  \item 普段ばらばらな場所にいる人々が face-to-face で出会える場を提供
	する。
  \item Debian のためになることを語る場を提供する。
  \item Debianについて語る場を提供する。
 \end{itemize}
\end{itemize}		

 Debianの勉強会ということで究極的には参加者全員がDebian Packageをがりがり
 と作るスーパーハッカーになった姿を妄想しています。情報の共有・活用を通し
 て Debianの今後の能動的な展開への土台として、「場」としての空間を提供す
 るのが目的です。

以上を目的とした、2008 年アジェンダです：
\begin{enumerate}
 \item 新年会「気合を入れる」
 \item Open Source Conference Tokyo (3/1)
 \item データだけのパッケージを作成してみる、
       ライセンスの考え方 (David Smith)
 \item バイナリ一つのパッケージを作成してみる (吉田@板橋)\\
       バージョン管理ツールを使いDebianパッケージを管理する(git)\\
       アップストリームの扱い(svn/git/cvs)(岩松 信洋さん)
 \item バイナリの分けたパッケージの作成。(前田さん)\\
       バイナリの分け方の考え方、アップグレードなどの運用とか。
 \item パッケージ作成(dpatch/debhelperで作成するパッケージ)(小林儀匡さん)\\
       OSC 2008 Hokkaido
 \item パッケージ作成(kernel patch、kernel module)(岩松 信洋)
       Debconf発表練習（上川さん）

 \item Debconf アルゼンチン、Debian 温泉、コミックマーケット74

 \item Open Source Conference Tokyo/Fall、
       デーモン系のパッケージの作成、latex、 emacs-lisp、フォントパッケージ
 \item パッケージの cross-compile の方法、amd64 上で i386 のパッケージと
       か、OSC-Fall報告会、Debconf報告会
 \item 国際化 po-debconf / po化 / DDTP
 \item 忘年会
\end{enumerate}


\newpage

\begin{minipage}[b]{0.2\hsize}
 \definecolor{titleback}{gray}{0.9}
 \colorbox{titleback}{\rotatebox{90}{\fontsize{80}{80} {\gt デビアン勉強会} }}
\end{minipage}
\begin{minipage}[b]{0.8\hsize}
\hrule
\vspace{2mm}
\hrule
\tableofcontents
\vspace{2mm}
\hrule
\end{minipage}

\dancersection{事前課題}{岩松 信洋}

今回の事前課題は
\begin{enumerate}
\item Debianで気になった翻訳されていないもの
\item あなたの考えている Debian パッケージメンテナの想像図
\end{enumerate}

というものでした。
その課題に対して下記の内容を提出いただきました。

\subsection{前田さん}
\subsubsection{Debian 気になった翻訳されていないもの}
とりあえずよく使いそうなmanマニュアルでどのくらい翻訳されていないのかをざっと調べてみました。
\begin{itemize}
  \item 無線LAN関係のmanマニュアル
    \begin{itemize}
      \item wireless-toolsパッケージのmanマニュアル。
      \item wpa\_supplicant(8), wpa\_supplicant.conf(5)
      \item wpa\_gui(8)
    \end{itemize}

  \item セキュリティ関連ツールのmanマニュアル。
    \begin{itemize}
      \item gpg(1)
      \item openssl(1ssl) (ところでこれ、何故OPENSSL(1SSL)何でしょうかね？）
      \item tripwire(8), twadmin(8)
      \item ssh(1), sshd(8), sshd\_config(5), ssh\_config(5)
      \item bastille(1m)
      \item chkrootkit(1)
    \end{itemize}
  \item システム管理系のmanマニュアル。
    \begin{itemize}
      \item syslog-ng(8)
      \item inetd(8) （個人的にはinetdはもう使っていないですが、デフォルトでは入ってますよね）
      \item interfaces(5)
      \item logrotate(8)
      \item gshadow(5)
      \item pam(7)
      \item udev(7)
      \item vim(1)
    \end{itemize}
\end{itemize}
面倒になったので途中で調べるの止めました。
有線LANに比べると設定が面倒なので日本語になっていないと一般の人には余計に敷居が上がるだろうと思います。ただ、無線LANとかセキュリティ関連(特にOpenSSHとか)は、Upstreamの更新頻度＆一度の変更での差異が大きいのも原因でしょうか。
やることいっぱいありますね…。


\subsection{平澤さん}
\subsection{私の考えるDebian パッケージメンテナの想像図}

ほんとに想像でしかかけないのですが..........
お題を3つの単語にわけてみて、想像をふくらましてみます。

まず、"Debian"について。安定性を重視したディストリビューションと聞いている。

きっと、Debianの裏方（メンテナー？）さんが
ライブラリなどの依存関係なんかを細かく確認をしながら
リリースするんだろうなぁ、とか想像する。

次、"パッケージ".　個別のプログラムをxxx.debファイルにまとめられている状
態を指す？
それとも"current"、"stable","testing"と呼ばれている、カテゴリー分けされ
たプログラムの
塊のことを指すのかしら？　よくわからない。

次、"メンテナ". 訳するとメンテナンスをする人
想像が想像をよび、すでに妄想の状態かも。

いい仕事をする”仕事人"のことを指すのでしょうか？
仕事の一部は定型化されていると想像するので、ルーチンワーク
な部分をやっつけるツールってのがたくさんあるんだろうな？とか想像。

\subsection{やまねさん}
\subsubsection{Debian で気になった翻訳されていないものを教えてください}
gksu, update-manager (すいません、まだやってませんでした…）

\subsection{山本さん}
\subsubsection{Debian で気になった翻訳されていないものを教えてください}
\url{http://www.debian.org} の文書は大体翻訳されてきたと思うけど、
最近は \url{http://wiki.debian.org} で盛んに文書が出されたり、
編集されたりしてるよね。

特に lenny でリリース予定（だっけ？）の armel のページなんかは
\url{http://www.debian.org/ports} から wiki へのリンクぐらいしかない。
当然、翻訳なんかもないが、そろそろなんとかねにゃいかん気もする。
\url{http://wiki.debian.org} で気になるのは、まだまだあるんじゃないかな？


\subsubsection{あなたの考えている Debian パッケージメンテナの想像図}
きっと、スーパーなハカーに違いない！
コーラとピザを片手に、コードを書いているんだ！

\subsection{つじかたさん}
\subsubsection{Debianで気になった翻訳されていないものを教えてください}
CDBSのドキュメント。
以前、CDBSを勉強しようと思ったのですが、日本語ドキュメントが見つからず挫折しました。
今、「入門Debianパッケージ」読んで勉強してます。


\subsection{吉田@板橋さん}

\subsubsection{Debian パッケージメンテナの想像図}
編集者の都合により削除させていただきました。

\subsection{Debian で気になった翻訳されていないものを教えてください}
lintianのメッセージ、aptのman,gpgのman。
lintianのメッセージの対処方法(黙らせ方)がぐぐっても、
翻訳サイトに掛けても良くわからない。
日本語にすればわかるのか？といえばそれも微妙だが。
aptitudeのmanは日本語化されているのにaptのmanは日本語化されていない
ぐ(以下略)しても太古のMLの断片が出てくるだけ...
gpg(GnuPG)の日本語man...ぐ(略、現状地球上になさげ。訳してみようと思ったが、
量が多すぎて挫折。

\subsection{たかはし あきゆき さん}
\subsubsection{Debian パッケージメンテナの想像図}
俺はプログラムなんて書けないけど」が口癖の黒魔術士

\subsection{Debian で気になった翻訳されていないものを教えてください}
lennyのアップデート・マネージャが気になります。

\subsection{あけどさん}
\subsubsection{Debian で気になった翻訳されていないものを教えてください}
DebianというかUpstreamになるかと思うのですが、rubyやperlのマニュアルページは未だ日本語版が無いようです。
マニュアルページでは他にも日本語版の無い物が色々とありますね。
それと、翻訳とはちょっと違うのですが
\url{http://manpages.debian.net/} で提供されている日本語版のページで文字化けが気になる所です。
Debian関係では、Debian Wiki の日本語化の残っている所がまだまだありますし、
WebドキュメントのDebian Developer's Referenceの日本語ページが
去年から手を着けたまま未完了なのが気になっています。（査読をお手伝い途中のままですみません。）

\subsubsection{あなたの考えている Debian パッケージメンテナの想像図}
具体的な人物が思いつくので想像というよりそのものって感じでしょうか。
なので、詳細については控えさせて頂きたく存じます。


\subsection{hidewon さん}
\subsubsection{あなたの考えている Debian パッケージメンテナの想像図}

いつもパソコンの画面の前に座り、ジャンク
フードを食しながら、あらゆるUNIXコマンドを
あやつり、それらの結果に一喜一憂をし、液晶画面を
みながら明日のソフトウェアを創造しつづけるスーパーハッカー。
とてもすごいひとたち。

パッケージの依存を解決したり、バグが発見されれ
ばそれらを瞬時に解決しなければならないのでしょうか。
英語のパッケージである場合、それらは英語で
作者に問い合わせるなどの折衝役もしなければ
ならないのでしょうか。パッケージが書かれている
言語がじぶんのしらないもので書かれている場合、
それらを自分でなんとかしなければならないのでしょうか。
あるいは修正できるスキルがなければメンテナンスを
してはいけないのでしょうか。プログラミングの経験は
必須なのでしょうか。いったいどんな作業がおこなわれて
いるのか知りたいです。
ときどきソフトウェアの不具合などがあるとき、パッケージを
展開すると知らないひとのなまえとメールアドレスがありました。
あれがメンテナでしょうか。そうだとすればあれがぼくと彼らを
つなぐ唯一の接点でした。
ここへ連絡をとってしまっていいものだろうか？となやむことが
よくあります。メンテナというひとがどんなひとでどんなことを
しているひとなのかということがわからないので、連絡をとるのが
怖かったのです。

メンテナはどんなひとたちでしょうか。


\subsection{森田 尚さん}
\subsubsection{Debianで気になった翻訳されていないもの}
自分が知らないだけかもしれませんが、
\begin{itemize}
  \item jargon - the definitive compendium of hacker slang
  \item fortunes - Data files containing fortune cookies
\end{itemize}
とか。

\subsection{キタハラ さん}
\subsubsection{Debianで気になった翻訳されていないものを教えてください}
{\bf Etch} のＧＵＩインストールをした時に説明文
の中で日本語になってい無い所があったのを思い出した
が、どこだったが思い出せない。　当時のメモを見ると
{\bf uswsusp}の説明が英語で迷った」とあるのでこれ
だと思うが、これを見てもまだ思い出せない。　最近、
いろんな事がありすぎたせいか、歳のせいか？

\subsection{岩松}
\subsubsection{Debianで気になった翻訳されていないものを教えてください}
Git, Xfce 全般、awesome全般
\subsubsection{あなたの考えている Debian パッケージメンテナの想像図}
ツンデレ。

%%% trivia quiz
\dancersection{Debian Trivia Quiz}{岩松 信洋}

ところで、みなさん Debian 関連の話題においついていますか？Debian関連の話
題はメーリングリストをよんでいると追跡できます。ただよんでいるだけではは
りあいがないので、理解度のテストをします。特に一人だけでは意味がわからな
いところもあるかも知れません。みんなで一緒に読んでみましょう。

今回の出題範囲は\url{debian-devel-announce@lists.deban.org} に投稿された
内容とDebian Project Newsからです。
\begin{multicols}{2}
 \subsection{debian-devel-announce}
 \url{debian-devel-announce@lists.deban.org}への投稿内容からです。
 
 \santaku
 {今年も Debconf が開催されました。どこで開催されたでしょうか。}
 {中国}
 {アルゼンチン}
 {スペイン}
 {B}
 % 中国は 北京でオリンピック、スペインは次回、今回はアルゼンチン
 
 \santaku
 {ギブアップ宣言をした Debian サブプロジェクト/チームは何でしょうか}
 {The Debian Live project}
 {The Debian EEEPC team}
 {The Debian Jr. project}
 {C}
 % マンパワーが足りないのと進展がほとんどないため

 \santaku
 {Lenny frozen が宣言されたのはいつでしょうか？}
 {2008/07/26}
 {2008/07/27}
 {2008/07/28}
 {B}
 % HEによってフリーズ宣言
 
 \santaku
 {Andreas Schuldei が立ち上げた新しいチームは何でしょうか。}
 {Debian マーケティング チーム}
 {Debian Dream チーム}
 {Debian Chrome チーム}
 {A}

 \santaku
 {Debian GNU/Linux 4.0 のアップデート版が出ましたが、何と呼ばれているでしょうか。}
 {etch and lenny}
 {etch with you}
 {etch and a half}
 {C}

 \santaku
 {リリースに向けての作業が佳境に入っています。このような作業の中、lennyの次のバージョンとなるリリースのコードネームが決まりました。何でしょうか。}
 {３つ目エイリアン squeeze}% ３つ目エイリアン
 {言葉遊びのオモチャ spell}%言葉遊びのオモチャ
 {重量挙げ選手のアクションフィギュア rocky}%重量挙げ選手のアクションフィギュア
 {A}

\end{multicols}
\dancersection{最近のDebian関連のミーティング報告}{岩松 信洋}
\subsection{東京エリアDebian勉強会43回目報告}
8月の第43回東京エリアDebian勉強会を実施しました。 
勉強会として、今回の Debconf 開催地である アルゼンチンからIRCを使って行われました。
今回の参加者は Debconf からは 上川さん、日本からは 武藤さん、やまねさん、山本さん、
小室さん、本庄さん、藤沢さん、前田さん、あけどさん、岩松が参加しました。
上川さんをHubにして、Debian 関係に関しての質問などが行われました。
詳細は、第43回Debian勉強会資料としてまとめましたので、そちらを参照してください。

\subsection{Debian 温泉報告}
2008年8月16日はDebian 15 周年でした。おめでとう！ Debian 勉強会では、15周年を祝うために
有志で Debian 温泉と題した 合宿を行いました。
今回は、Debian勉強会に参加された方から希望者を募って実験的に合宿を行う方式を取りました。
参加者はやまねさん、あけどさん、前田さん、小林儀匡さん、山本 浩之さん、日比野 啓さん、鈴木さん、岩松の8人でした
当初は伊豆の伊東温泉で行う予定でしたが、予定していた場所を予約できず、
急遽、草津温泉に変更なりました。伊東温泉を楽しみにしていた方、申し訳ございませんでした。
詳細は、第43回Debian勉強会資料としてまとめましたので、そちらを参照してください。

\subsection{コミックマーケット74}
今年の夏もコミックマーケット74 で Debian勉強会資料を販売しました。
今回からページ数が大幅に増え、120ページ。今まで行ってきた製本方法では冊子にできないため、くるみ製本にして
販売しました。販売数は50冊で完売することができました。
委託販売していただいた USAGI補完計画さん、編集に協力していただいた方、
どうもありがとうございました。ちなみに166円の赤字でした。

\subsection{第90回 カーネル読書会：Debianパッケージ入門の入門}
急遽 YLUG が主催する カーネル読書会 で やまねさんが {\bf Debianパッケージ入門の入門}
ということで発表しました。Debian関係の方からDebain勉強会に参加された
事のある方、パッケージに興味があって参加された方など多方面から参加者として集まり、やまねさん
につっこみを入れていました。いろいろ課題の残る発表でしたが、無事終えることができました。
この発表で興味を持ってくれた方が増えて、Debian/Ubuntu界隈が盛り上がればいいなと思っています。
やまねさんの次回発表（反省会）に期待したいと思います。

% (query-replace-regexp "<.*?>" "")
% (query-replace-regexp "^[	 ]\+" "")


\dancersection{Po4a でドキュメント翻訳の保守を楽にしよう}{小林 儀匡}
\label{sec:po4a}
\index{po4a}
	
\dancersection{【でびあん】Debian パッケージメンテナというお仕事【現在募集中】}{やまね ひでき}

\label{sec:dm-yamane}
\index{dm-yamane}

\subsection{Debian パッケージメンテナのお仕事}

　実は、Debian パッケージのメンテナになるにはそんなに敷居は高くありません。よっぽど入学試験／就職／転職活動の方が難しいと思うほどです。恐れることはありません。多少なりとも興味がある方はこれからの説明をご覧ください。

\subsection{メンテナになる前の下準備}

\begin{enumerate}
 \item GPG 鍵を作っておく (aptitude install gpg \&\& gpg --gen-key)
 \item 公的な身分証明書を用意しておく
 \item 先ほど作った GPG 鍵と身分証明書を利用して、既存の Debian Developer とGPG キーサインの交換を行っておく
 \item メンテナや Developer として問題ないと見なされる作業をしておく (contribute!)
\end{enumerate}

この4つだけ準備したら、さぁ、メンテナになる作業の始まりです。


\subsection{The way to Debian package maintainer}

メンテナになる方法としては2点あります。

\begin{enumerate}
 \item 自分から「このソフトを Debian パッケージにしたい」と申請する
 \item 既存のパッケージのメンテナからメンテナンスを引き継ぐ
\end{enumerate}

　1. は ITP (Intent To Package) という形で行います。特に RFP (Request For Package) という形でユーザから「このソフトを Debian パッケージにして欲しいなぁ」という声に答えるのが望ましいでしょう。

　2. は RFH (Request For Help、協力者募集中)、RFA (Request for Adoption、新メンテナ募集中) や O (Orphaned、みなしご化) というステータスになったパッケージに対して「自分がメンテナになります」と宣言します。

　ITP, RFP, RFA, Orphaned は全て Debian Bug Tracking System (BTS) で管理登録されます (BTS の使い方についてはそのうち別途)。これらを総称して「作業が望まれるパッケージ (Work-Needing and Prospective Packages; WNPP)」と呼びます。この WNPP、BTS で追うのは結構辛いので wnpp.debian.net \footnote{ \url{http://wnpp.debian.net} ではパッケージ化希望されているものや、メンテナが引き取り手を募集しているパッケージを検索できます。
\begin{itemize}
 \item ページの見た目は良くない ;-)
 \item RSSで状況が取得できるので、RSS reader で適宜ピックアップにてチェックすることをお勧めします。
\end{itemize}} を使いましょう。各略語の意味などについては \url{http://www.jp.debian.org/devel/wnpp/} をご覧ください。


\subsubsection{ITP、RFP パッケージ化}

　大抵1からパッケージ化作業ですので、ウェブサイトからソースを取得してライセンスを確認の上、パッケージ作りのお作法に従ってパッケージを作成します。パッケージを作成する際は、unstable 環境の lintian で warning などが出なくなるよう (Debian Policy Manual に準拠するよう) に頑張りましょう。パッケージが作成できたら pbuilder でクリーンルーム環境でビルド可能かどうか (Build-Depends に間違いが無いか) のチェックを行います。問題なくビルドできたら piuparts を使ってインストール／アンインストールで問題が無いか (Depends や preinst,postinst,prerm,postrm スクリプトに問題が無いか) を確認しましょう。ここまで来て問題なければ「Eat your own dog food」、つまり自分の環境にパッケージを入れて問題が起きないかどうかチェックするとベストでしょう。

\begin{screen}
\paragraph*{ライセンスについて}
　ちなみに一番大変なのはここでの「ライセンス確認」作業だと個人的には思っています。そのソフトのウェブページににちょっと書いてあることを鵜呑みにしたりすると、実は中身は全然違うライセンスだ、とか、実はリンクするライブラリとは矛盾するライセンスだ、とかがありますし、英訳ライセンスがないと Debian のパッケージ管理者 (ftpmaster) がライセンス的にそのパッケージを受け入れるかどうかの判断がそもそも出来ませんので必ず適当な英訳ライセンスへの翻訳作業が必要です。

　ライセンスは、独自ライセンスよりも一般的に FLOSS の代表的ライセンス (GPL, BSD, MIT, Artistic など) を使う方が全ての利害関係者にとって利益があるでしょう。何故ならば、ライセンスは「プロトコル」のようなものであり、既存プロトコルを利用する方が新たにプロトコルを実装するよりもはるかに容易に取り扱えるからです。代表的ライセンスでは目的が達成できないときにのみ、独自ライセンスを利用するのが賢いやり方です。
\end{screen}

\subsubsection{RFA, Orphan への対処}

　すでに現在のメンテナが引き継ぎ手を募集している状態 (RFA) や、完全にギブアップor興味を失ってしまった (Orphan) になったパッケージについては、BTS を利用してパッケージを引き取る旨の宣言 (ITA, Intend To Adapt) を行いましょう。加えて関連のメーリングリストで「自分がやろうと思うけど、どう？」と聞いてみるとさらに良いでしょう。合意がとれたら、debian/changelog にて該当の RFA/Orphan バグを閉じるエントリを追記しておきます。大抵の場合は色々とバグレポートが溜まっているので片付けて同様に changelog に記載しておきましょう。


\subsection{アップロード}

　ここまでが終わったらアップロードを行います。Debian Developer であればパッケージを dput や dupload と呼ばれるコマンドを使って、作成されたソースパッケージとバイナリパッケージを直接 Debian へアップロードします。そうでない場合は適当な場所にアップロードして、Debian Developer に代理アップロードをお願いしましょう (アップロード先は、\url{http:://mentors.debian.net}、代理アップロード依頼先は \url{debian-devel@debian.or.jp} がおすすめです)。 

\begin{commandline}
dupload -t anonymous-ftp-master ccspatch_1.6.4-20080903-1_i386.changes
\end{commandline}

　この時点でツールは dsc ファイルや changes ファイルに gpg 署名されているかどうかをチェックして、されていない場合はアップロードしないなどしてくれます。

　サーバ側では、まず「既にあるパッケージの更新なのか、それとも新規パッケージなのか」の判断を行います。新規パッケージの場合は NEW Queue (\url{http://ftp-master.debian.org/new.html}) と呼ばれる所に自動的に移されて、ftpmaster が逐次入れてよいものかどうかのチェックを行っています。おおよそこの工程は１、2週間程度かかります。

　チェックは特にライセンスの問題が無いかについてなどが争点となります。この作業は高度な判断が要求されるため、人的リソース的にボトルネックになりやすいところと、拒否された場合に「何故このパッケージが拒否されたのか」の記録が容易にトラッキングできないのが問題点です。人的リソースについては、アクティブなメンバーを入れることで以前と比較しても改善がされており、トラッキングについては最近になってシステマチックにチェック可能なように提案が出てきているところです。

　更新パッケージについては、サーバ側でソースパッケージの gpg 署名をチェックなどをして「本当にこれは入れていいものかどうか」を判断してダメな場合は reject されます。このチェックについては、アップロード後にサーバから受け入れ／拒否のメールが届きます。

まずアップロードされたパッケージの処理を始めたよ、というメール

\begin{commandline}
From: Archive Administrator <dak@ftp-master.debian.org>
Subject: Processing of ccspatch_1.6.4-20080903-1_i386.changes

ccspatch_1.6.4-20080903-1_i386.changes uploaded successfully to localhost
along with the files:
  ccspatch_1.6.4-20080903-1.dsc
  ccspatch_1.6.4-20080903.orig.tar.gz
  ccspatch_1.6.4-20080903-1.diff.gz
  linux-patch-tomoyo_1.6.4-20080903-1_all.deb

Greetings,

	Your Debian queue daemon
\end{commandline}


チェックして incoming repository に入れたよ、というメール

\begin{commandline}
From: Debian Installer <installer@ftp-master.debian.org>
Subject: ccspatch_1.6.4-20080903-1_i386.changes ACCEPTED

Accepted:
ccspatch_1.6.4-20080903-1.diff.gz
  to pool/main/c/ccspatch/ccspatch_1.6.4-20080903-1.diff.gz
ccspatch_1.6.4-20080903-1.dsc
  to pool/main/c/ccspatch/ccspatch_1.6.4-20080903-1.dsc
ccspatch_1.6.4-20080903.orig.tar.gz
  to pool/main/c/ccspatch/ccspatch_1.6.4-20080903.orig.tar.gz
linux-patch-tomoyo_1.6.4-20080903-1_all.deb
  to pool/main/c/ccspatch/linux-patch-tomoyo_1.6.4-20080903-1_all.deb


Override entries for your package:
ccspatch_1.6.4-20080903-1.dsc - source devel
linux-patch-tomoyo_1.6.4-20080903-1_all.deb - extra admin

Announcing to debian-devel-changes@lists.debian.org


Thank you for your contribution to Debian.
\end{commandline}

　これでパッケージのアップロードが完了しました。BTS に記載されているバグを修正した旨を debian/changelog に適切なスタイルで記述しておくと、BTS から bug closed のメールがやってきます。


\subsubsection{その他アップロードに関する注意}

　ちなみに、Debian バージョンのみの更新の場合 (foo 1.0-1 から foo 1.0-2 への更新など) はオリジナルのソースファイル (orig.tar.gz) をアップロードしないことになっています。もし、orig.tar.gz をアップロードした場合は後から拒否のメールが届きます。

　あと注意として、ライブラリファイルや他の多くのパッケージと関連しているようなパッケージで更新をかけると unstable 環境が壊れるような場合は、experimental へアップロードして関係者と調整することが推奨されています。


\subsection{メンテナンス作業}

　BTS を通じてユーザからバグ報告メールが来るので、それに対応してパッケージの debian ディレクトリ以下を更新して、修正出来たら changelog に完了した旨を記載しておきます (dch コマンドが便利です)。特に RC (Release Critical) バグは早めに修正しましょう。バグが他のパッケージと関連する場合は適当なメーリングリストで関係者と対応を協議して進めていきます。場合によっては、自分のパッケージのバグではなく、他のパッケージのバグである場合もありますので、その場合はバグを BTS で reassign しておきます。パッケージとしてのバグではなく、元々のソース由来のバグの場合は、バグを upstream (開発元) に転送するかパッチを作って upstream と協議しましょう。

　そして upstream での更新に合わせてパッケージも更新します。upstream の更新は debian/watch ファイルを適切に記載していれば、DEHS (Debian External Health Status、\url{http://dehs.alioth.debian.org}) によって定期的にチェックされ、Debian Quality Assuarance の developer ページ (\url{http://qa.debian.org/developer.php}) で状況を確認できます (あとは upstream のリリースアナウンスが流れるメーリングリストに入っておくと良いでしょう)。きちんと設定された debian/watch ファイルがあれば、パッケージによっては更新がものの1分も経たずに出来ます。

　チーム制でメンテナンスをするような場合は共有 repository に更新したソースを忘れずに commit しておきましょう。commit 出来ない場合は、チームのメーリングリストにパッチを送ります。幾度か適切なパッチを送りつづけていると、いつの間にか commit 権が与えられていることが多い様です。

　なお、バグ修正や Debian Policy に適合するために Debian パッケージ側で色々とパッチを当てている (dpatch や quilt を利用する) と新バージョン側のソースとコンフリクトを起こしてその修正に時間がかかることがありますので、なるべく upstream の開発者とメーリングリストなどを通じて普段からコンタクトを取り合っておいて、パッチ自体が取り込まれて不要になるように働きかけましょう。

　この様にしてパッケージ化、メンテナンス等をメンテナは日々行っていきます。特に問題なく時間が経過したパッケージは unstable から testing に移行され、次のリリースを待つことになります。そして、リリースの日を迎えたパッケージは stable へと移されます。


\subsection{特殊な場合}

　以下に頻繁には起きないはずの、ちょっと変わった場合の対応を挙げておきます。

\subsubsection{NMU}

　Non-Maintainer Upload の略で、既存のメンテナ以外の人間がバグ修正のためにパッケージをアップロードすることを指します。あまり頻繁に NMU があるようなパッケージについては、メンテナが本当に活動しているのかどうかをチェックした方がいいでしょう。

\subsubsection{FREEEEEEZE!!}

　特にリリース前には「システム全体の安定化」が必要なため、freeze、つまりパッケージの unstable から testing への自動移行が停止されます。しかし、freeze の間に発覚した、そのままリリースされてしまっては困るようなバグの修正が必要な場合もあります。その場合は リリースマネージャ (RM) に対して「私のこのパッケージを testing に入れるようにしてください！」とお願いします。これを「unblock (exception) request」と一般に呼びます。やり方としてはメーリングリストで RM が理解しやすいフォーマットでメールを投げるだけです。

\begin{commandline}
To: debian-release@lists.debian.org
subject: Please unblock <package> <version>

\begin{itemize}
 \item changelog の抜粋
 \item 理由
 \item debian-devel-announce で流れている freeze exception のどれに当てはまるのか
 \item このアップデートによって何が改善されるのか
 \item このアップデートでは regression が起きない説明
 \item その他、RM が納得してくれるような内容
\end{itemize}

\end{commandline}

　うまくすれば RM から "unblocked" という素っ気ないメールが届きます。これが来たら大成功です。今 unstable にあるパッケージは testing へ移行することが可能になります。


\subsection{メンテナ権の移譲}

　パッケージメンテナも人の子、残念ながら諸事情によりメンテナンスが出来なくなるような事態が起きるかもしれません。なるべく一人でメンテナンスせずチームあるいは自分以外の詳しい／信用できるメンテナもアップロードできるようにしておきます。具体的には debian/control の Uploaders フィールドにアップロードしてもいい人の名前とメールアドレスを書いておきます (GPG 署名に使うものと同一である必要があります)。

\begin{commandline}
Source: ttf-vlgothic
Section: x11
Priority: optional
Maintainer: Debian Fonts Task Force <pkg-fonts-devel@lists.alioth.debian.org>
Uploaders: Hideki Yamane (Debian-JP) <henrich@debian.or.jp>
DM-Upload-Allowed: yes
Build-Depends: debhelper (>= 5)
Build-Depends-Indep: defoma, bzip2
Standards-Version: 3.8.0
Homepage: http://dicey.org/vlgothic/
Vcs-Svn: svn://svn.debian.org/pkg-fonts/packages/ttf-vlgothic/
Vcs-Browser: http://svn.debian.org/wsvn/pkg-fonts/packages/ttf-vlgothic/
\end{commandline}

　そして、メンテナンスが出来なくなりそうな場合は、あまり粘らずにさっさと宣言 (RFA, Orphan) しておきましょう。宣言が無いと「このパッケージ古いな」という悪評が立つだけ…という結果になりかねません。なお、日本の首相と違ってメンテナは頻繁に交代してもきちんとした理由があれば文句は言われることはありません :-)　（できれば最初の方から複数人でのチームメンテナンスなどしておくと困ったことになる確率は減ります）


\subsection{終わりに}
　如何でしたか？パッケージメンテナというお仕事がどのようなものか、多少理解が深まっていただければ幸いです。


\clearpage





%\printindex

\cleartooddpage

\vspace*{15cm}
\hrule
\vspace{2mm}
\includegraphics[width=2cm]{image200502/openlogo-nd.eps}
\noindent \Large \bf Debian 勉強会資料\\ \\
\noindent \normalfont \debmtgyear{}年\debmtgmonth{}月\debmtgdate{}日 \hspace{5mm}  初版第1刷発行\\
\noindent \normalfont 東京エリア Debian 勉強会 （編集・印刷・発行）\\
\hrule


\end{document}
